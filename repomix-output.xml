This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.claude/
  settings.local.json
app/
  api/
    auth/
      [...nextauth]/
        route.ts
  dashboard/
    layout.tsx
    page.tsx
  favicon.ico
  globals.css
  layout.tsx
  page.tsx
components/
  auth/
    login-modal.tsx
    signup-modal.tsx
  dashboard/
    api-usage-table.tsx
    app-sidebar.tsx
    dashboard-header.tsx
    interactive-area-chart.tsx
  providers/
    session-provider.tsx
  ui/
    alert-dialog.tsx
    avatar.tsx
    badge.tsx
    button.tsx
    card.tsx
    chart.tsx
    checkbox.tsx
    combobox.tsx
    dialog.tsx
    dropdown-menu.tsx
    field.tsx
    input-group.tsx
    input.tsx
    label.tsx
    progress.tsx
    select.tsx
    separator.tsx
    sheet.tsx
    sidebar.tsx
    skeleton.tsx
    table.tsx
    textarea.tsx
    toggle-group.tsx
    toggle.tsx
    tooltip.tsx
  component-example.tsx
  example.tsx
  theme-provider.tsx
  theme-toggle.tsx
docs/
  .pdca-snapshots/
    snapshot-1769934115304.json
  01-plan/
    features/
      ai-saas-dashboard.plan.md
      api-usage-table-refactoring.plan.md
  04-report/
    2025-02-01-ai-saas-dashboard-v1.md
  05-upgrade/
    refactory.md
  .bkit-memory.json
  .pdca-status.json
hooks/
  use-mobile.tsx
lib/
  constants/
    chart-configs.ts
  mock/
    usage-data.ts
  types/
    dashboard.ts
  utils/
    status-badge.tsx
  utils.ts
public/
  file.svg
  globe.svg
  next.svg
  slider.png
  vercel.svg
  window.svg
types/
  next-auth.d.ts
.gitignore
.mcp.json
auth.ts
components.json
eslint.config.mjs
GOOGLE_OAUTH_SETUP.md
middleware.ts
next.config.ts
package.json
pnpm-workspace.yaml
postcss.config.mjs
README.md
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".claude/settings.local.json">
{
  "permissions": {
    "allow": [
      "Bash(curl:*)",
      "Bash(pnpm run build:*)",
      "Bash(pnpm tsc:*)",
      "Skill(bkit:pdca)",
      "Bash(npm install:*)",
      "Bash(pnpm add:*)"
    ]
  }
}
</file>

<file path="app/api/auth/[...nextauth]/route.ts">
import { handlers } from "@/auth"

export const { GET, POST } = handlers
</file>

<file path="components/providers/session-provider.tsx">
"use client"

import { SessionProvider as NextAuthSessionProvider } from "next-auth/react"

export function SessionProvider({ children }: { children: React.ReactNode }) {
  return <NextAuthSessionProvider>{children}</NextAuthSessionProvider>
}
</file>

<file path="docs/05-upgrade/refactory.md">
ì œì‹œëœ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¶„ì„í•œ ê²°ê³¼, **Next.js 16**, **Tailwind CSS v4**, **shadcn/ui(Base UI ê¸°ë°˜)**, **NextAuth v5** ë“± ìµœì‹  ìŠ¤íƒì„ í™œìš©í•œ ìˆ˜ì¤€ ë†’ì€ í”„ë¡œì íŠ¸ì„ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

ì‹œë‹ˆì–´ ê°œë°œìì˜ ê´€ì ì—ì„œ ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì„±, í™•ì¥ì„±, ì„±ëŠ¥ì„ ê³ ë ¤í•˜ì—¬ ë¶„ì„ ë³´ê³ ì„œ ë° ë¦¬íŒ©í† ë§ ì œì•ˆì„œë¥¼ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

---

# ğŸš€ AI SaaS Dashboard ì½”ë“œ ë¶„ì„ ë° ë¦¬íŒ©í† ë§ ë³´ê³ ì„œ

## 1. ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½ (Tech Stack Scan)
*   **Framework**: Next.js 16.1.6 (App Router)
*   **Language**: TypeScript 5.x
*   **Styling**: Tailwind CSS v4 (OKLCH Color Space ì‚¬ìš©)
*   **Authentication**: NextAuth.js v5.0.0-beta.30 (Google OAuth)
*   **UI Primitives**: Base UI (`@base-ui/react`) - ê¸°ì¡´ Radix UIì˜ ëŒ€ì•ˆìœ¼ë¡œ ì‚¬ìš©ë¨
*   **Visualization**: Recharts 2.15.4
*   **State Management**: React Context (Session), Local State

---

## 2. ì¢…í•© ì½”ë“œ ê²€ìˆ˜ (Code Review)

### âœ… ì¥ì  (Strengths)
1.  **í˜„ëŒ€ì ì¸ ìŠ¤íƒ í™œìš©**: Tailwind v4ì˜ `@theme` ë¸”ë¡ê³¼ OKLCH ìƒ‰ìƒ ì²´ê³„ë¥¼ ì‚¬ìš©í•˜ì—¬ í…Œë§ˆ ì‹œìŠ¤í…œì´ ë§¤ìš° ì •êµí•˜ê²Œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
2.  **Hydration ì—ëŸ¬ ë°©ì§€**: Rechartsì™€ ê°™ì€ í´ë¼ì´ì–¸íŠ¸ ì „ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì‹œ `mounted` ìƒíƒœë¥¼ ì²´í¬í•˜ì—¬ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ ì˜ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
3.  **ì¸ì¦ ì•„í‚¤í…ì²˜**: NextAuth v5ì˜ `auth.ts` ì„¤ì •ê³¼ Middlewareë¥¼ í†µí•œ ê²½ë¡œ ë³´í˜¸ ë¡œì§ì´ ê¹”ë”í•˜ê²Œ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
4.  **UI ì¼ê´€ì„±**: shadcn/ui ì»´í¬ë„ŒíŠ¸ë“¤ì´ `data-slot` ì†ì„±ì„ í™œìš©í•´ Tailwind v4ì™€ ìœ ì—°í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### âš ï¸ ê°œì„  ê¶Œì¥ ì‚¬í•­ (Areas for Improvement)
1.  **ê±°ëŒ€ ì»´í¬ë„ŒíŠ¸ (God Component)**: `api-usage-table.tsx`ê°€ ì•½ 500ë¼ì¸ì— ë‹¬í•˜ë©°, ë°ì´í„° ìƒì„±ê³¼ í…Œì´ë¸” ë Œë”ë§, ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë¡œì§, ìƒì„¸ ë³´ê¸° ì‹œíŠ¸(Sheet), ì°¨íŠ¸ ë¡œì§ì´ ëª¨ë‘ í•œ íŒŒì¼ì— ì§‘ì¤‘ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
2.  **ë°ì´í„° ê³„ì¸µ ë¶„ë¦¬ ë¶€ì¡±**: Mock ë°ì´í„° ìƒì„± í•¨ìˆ˜(`generateMockData`)ê°€ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìœ„ì¹˜í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ UI ë¡œì§ì´ ì„ì—¬ ìˆìŠµë‹ˆë‹¤.
3.  **í•˜ë“œì½”ë”©ëœ ìƒíƒœ**: ìƒíƒœ ë°°ì§€(Badge) ìƒì„± ë¡œì§ ë“±ì´ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— í•˜ë“œì½”ë”©ë˜ì–´ ìˆì–´ ì¬ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤.
4.  **Prop Drilling**: `DashboardHeader`ì—ì„œ ë¡œê·¸ì¸/íšŒì›ê°€ì… ëª¨ë‹¬ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ìˆëŠ”ë°, ì„œë¹„ìŠ¤ê°€ ì»¤ì§ˆ ê²½ìš° Global Store(Zustand ë“±)ë‚˜ URL ê¸°ë°˜ ëª¨ë‹¬ ê´€ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 3. í•µì‹¬ ë¦¬íŒ©í† ë§ ì œì•ˆ (Refactoring Proposal)

ê°€ì¥ ì‹œê¸‰í•œ **`api-usage-table.tsx`**ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ë¦¬íŒ©í† ë§ ì „ëµì…ë‹ˆë‹¤.

### 3.1 ë””ë ‰í† ë¦¬ êµ¬ì¡° ì¬ì„¤ê³„ (Feature-based structure)
í˜„ì¬ `components/dashboard/` ì•„ë˜ ëª¨ë“  ê²ƒì´ ëª¨ì—¬ ìˆìŠµë‹ˆë‹¤. ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì…ë‹ˆë‹¤.

```text
components/dashboard/usage-table/
â”œâ”€â”€ index.tsx                # ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ usage-table-ui.tsx       # ìˆœìˆ˜ Table UI
â”œâ”€â”€ usage-detail-sheet.tsx   # ìƒì„¸ ì •ë³´ Sheet ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ use-usage-data.ts        # ë°ì´í„° ìƒíƒœ ë° DnD ì»¤ìŠ¤í…€ í›…
â””â”€â”€ mock-data.ts             # ë°ì´í„° ë° íƒ€ì… ì •ì˜
```

### 3.2 ë¡œì§ ë¶„ë¦¬: ì»¤ìŠ¤í…€ í›… (use-usage-data.ts)
ë“œë˜ê·¸ ì•¤ ë“œë¡­ê³¼ ì„ íƒ ë¡œì§ì„ UIì—ì„œ ë¶„ë¦¬í•©ë‹ˆë‹¤.

```typescript
// use-usage-data.ts ì˜ˆì‹œ
export function useUsageData(initialData: UsageData[]) {
  const [data, setData] = useState(initialData);
  const [selectedRows, setSelectedRows] = useState<Set<string>>(new Set());
  // ... ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•¸ë“¤ëŸ¬ ë¡œì§
  return { data, selectedRows, handlers: { handleDragStart, handleDrop, ... } };
}
```

### 3.3 ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¶”ì¶œ
ìƒíƒœë³„ ë°°ì§€ ì»¬ëŸ¬ ì§€ì • ë“±ì€ ë³„ë„ ìœ í‹¸ë¦¬í‹°ë‚˜ ìƒìˆ˜ íŒŒì¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

---

## 4. ìƒì„¸ ì½”ë“œ ë¶„ì„ ë° ìµœì í™” ê°€ì´ë“œ

### 4.1 Tailwind CSS v4 ìµœì í™”
í˜„ì¬ `globals.css`ì— ì •ì˜ëœ `@variant dark (.dark &);`ëŠ” ë§¤ìš° íš¨ìœ¨ì ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ í”„ë¡œì íŠ¸ ì „ë°˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¬ ë³€ìˆ˜ë¥¼ `@theme inline`ì— ë” ì²´ê³„ì ìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 4.2 Recharts ì„±ëŠ¥ ìµœì í™”
`interactive-area-chart.tsx`ì—ì„œ `data`ë¥¼ `useMemo`ë¡œ ê³„ì‚°í•˜ê³  ìˆëŠ”ë°, ì´ëŠ” ë§¤ìš° ë°”ëŒì§í•©ë‹ˆë‹¤. ì¶”ê°€ë¡œ ì°¨íŠ¸ê°€ ë Œë”ë§ë  ë•Œ ì• ë‹ˆë©”ì´ì…˜ ë¶€í•˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ `isAnimationActive={false}`ë¥¼ ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ ê³ ë ¤í•´ë³¼ ë§Œí•©ë‹ˆë‹¤.

### 4.3 NextAuth ì½œë°± ë³´ì•ˆ
`auth.ts` ë‚´ì˜ `jwt` ë° `session` ì½œë°±ì—ì„œ `token.accessToken`ì„ ì„¸ì…˜ì— ë…¸ì¶œí•˜ê³  ìˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì•¡ì„¸ìŠ¤ í† í°ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ ìµœì†Œí•œì˜ ì •ë³´(id, email)ë§Œ ë…¸ì¶œí•˜ë„ë¡ ì œí•œí•˜ëŠ” ë³´ì•ˆ ì„¤ì •ì´ ê¶Œì¥ë©ë‹ˆë‹¤.

---

## 5. ë‹¨ê³„ë³„ ì‹¤í–‰ ë¡œë“œë§µ (Action Plan)

1.  **Phase 1: ë°ì´í„° ë ˆì´ì–´ ë¶„ë¦¬**
    *   `lib/mock/usage-data.ts`ë¥¼ ìƒì„±í•˜ì—¬ ëª¨ë“  Mock ë°ì´í„°ì™€ ë°ì´í„° ìƒì„± í•¨ìˆ˜ë¥¼ ì´ë™.
2.  **Phase 2: ì»´í¬ë„ŒíŠ¸ ìª¼ê°œê¸°**
    *   `ApiUsageTable` ì»´í¬ë„ŒíŠ¸ì—ì„œ `UsageDetailSheet`ë¥¼ ë³„ë„ íŒŒì¼ë¡œ ì¶”ì¶œ.
    *   í…Œì´ë¸”ì˜ `Row` ë‹¨ìœ„ë¥¼ ì»´í¬ë„ŒíŠ¸í™”í•˜ì—¬ `memo` ì ìš© ê³ ë ¤.
3.  **Phase 3: íƒ€ì… ì•ˆì •ì„± ê°•í™”**
    *   `UsageStatus`ì™€ ê°™ì€ ê³µí†µ íƒ€ì…ì„ `types/dashboard.ts`ë¡œ ì§‘ì¤‘ ê´€ë¦¬.
4.  **Phase 4: ì „ì—­ ëª¨ë‹¬ ì‹œìŠ¤í…œ**
    *   `LoginModal`, `SignupModal`ì„ `DashboardHeader`ì—ì„œ ë¶„ë¦¬í•˜ì—¬ `providers/modal-provider.tsx` ë“±ì„ í†µí•´ ì „ì—­ì ìœ¼ë¡œ ì œì–´ ê°€ëŠ¥í•˜ê²Œ ë³€ê²½ (Zustand ì¶”ì²œ).

---

## ğŸ¯ ìµœì¢… ê²°ë¡ 
ë³¸ í”„ë¡œì íŠ¸ëŠ” **ìµœì‹  Next.js ê¸°ìˆ ì…‹ì˜ ëª¨ë²” ì‚¬ë¡€ë¥¼ ì˜ ë”°ë¥´ê³  ìˆëŠ” ìš°ìˆ˜í•œ ì½”ë“œë² ì´ìŠ¤**ì…ë‹ˆë‹¤. ì‹œë‹ˆì–´ ê°œë°œìë¡œì„œì˜ ê´€ì ì—ì„œëŠ” í˜„ì¬ì˜ "ê¸°ëŠ¥ ì¤‘ì‹¬ êµ¬í˜„" ë‹¨ê³„ì—ì„œ **"ìœ ì§€ë³´ìˆ˜ ë° í™•ì¥ì„± ì¤‘ì‹¬ì˜ ì•„í‚¤í…ì²˜"**ë¡œ ë„˜ì–´ê°€ëŠ” ë¦¬íŒ©í† ë§ ê³¼ì •ë§Œ ê±°ì¹œë‹¤ë©´, ì‹¤ì œ ìƒìš© SaaS ì„œë¹„ìŠ¤ë¡œ ë°œì „ì‹œí‚¤ê¸°ì— ì¶©ë¶„í•œ ê¸°ì´ˆë¥¼ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.

íŠ¹íˆ `api-usage-table.tsx`ì˜ ë¹„ëŒ€í™”ë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ ì½”ë“œ í’ˆì§ˆ ì ìˆ˜ë¥¼ 80ì ì—ì„œ 95ì ìœ¼ë¡œ ì˜¬ë¦¬ëŠ” í•µì‹¬ í‚¤ê°€ ë  ê²ƒì…ë‹ˆë‹¤.
</file>

<file path="lib/constants/chart-configs.ts">
/**
 * Chart Configurations
 * Centralized chart config for consistency across dashboard
 */

import type { ChartConfig } from "@/components/ui/chart"

/**
 * Chart configuration for API usage detail view
 */
export const detailChartConfig = {
  usage: {
    label: "API Calls",
    color: "hsl(217, 91%, 60%)",
  },
} satisfies ChartConfig
</file>

<file path="lib/mock/usage-data.ts">
/**
 * Mock Data for API Usage
 * Separated from UI components for better maintainability
 */

import type { UsageData, ChartDataPoint } from "@/lib/types/dashboard"

/**
 * Initial mock data for API usage table
 */
export const initialUsageData: UsageData[] = [
  {
    id: "1",
    type: "GPT-4 Turbo",
    status: "active",
    target: "850K/1M",
    limit: "1,000,000",
    reviewer: "John Smith",
  },
  {
    id: "2",
    type: "Claude 3 Opus",
    status: "active",
    target: "620K/1M",
    limit: "1,000,000",
    reviewer: "Sarah Johnson",
  },
  {
    id: "3",
    type: "Gemini Pro",
    status: "warning",
    target: "890K/1M",
    limit: "1,000,000",
    reviewer: "Mike Chen",
  },
  {
    id: "4",
    type: "Text Embeddings",
    status: "active",
    target: "340K/500K",
    limit: "500,000",
    reviewer: "Emily Davis",
  },
  {
    id: "5",
    type: "GPT-3.5 Turbo",
    status: "exceeded",
    target: "1.05M/1M",
    limit: "1,000,000",
    reviewer: "Alex Kim",
  },
  {
    id: "6",
    type: "Whisper API",
    status: "active",
    target: "125K/250K",
    limit: "250,000",
    reviewer: "Lisa Park",
  },
  {
    id: "7",
    type: "DALL-E 3",
    status: "warning",
    target: "45K/50K",
    limit: "50,000",
    reviewer: "Tom Wilson",
  },
  {
    id: "8",
    type: "Custom Fine-tuned Model",
    status: "active",
    target: "78K/200K",
    limit: "200,000",
    reviewer: "Rachel Green",
  },
]

/**
 * Generate mock chart data for detail view
 * Creates 7 days of usage data with random variations
 */
export function generateDetailChartData(): ChartDataPoint[] {
  const data: ChartDataPoint[] = []
  const now = new Date()

  for (let i = 6; i >= 0; i--) {
    const date = new Date(now)
    date.setDate(date.getDate() - i)

    const baseValue = 20000 + Math.random() * 10000
    const usage = Math.floor(baseValue)

    data.push({
      date: date.toLocaleDateString("en-US", { month: "short", day: "numeric" }),
      usage,
    })
  }

  return data
}
</file>

<file path="lib/types/dashboard.ts">
/**
 * Dashboard Types
 * Centralized type definitions for dashboard components
 */

export type UsageStatus = "active" | "warning" | "exceeded"

export interface UsageData {
  id: string
  type: string
  status: UsageStatus
  target: string
  limit: string
  reviewer: string
}

export interface ChartDataPoint {
  date: string
  usage: number
}
</file>

<file path="lib/utils/status-badge.tsx">
/**
 * Status Badge Utilities
 * Reusable badge components for different status types
 */

import { Badge } from "@/components/ui/badge"
import type { UsageStatus } from "@/lib/types/dashboard"

/**
 * Get appropriate badge component based on status
 */
export function getStatusBadge(status: UsageStatus) {
  switch (status) {
    case "active":
      return (
        <Badge
          variant="secondary"
          className="bg-green-500/10 text-green-500 hover:bg-green-500/20"
        >
          Active
        </Badge>
      )
    case "warning":
      return (
        <Badge
          variant="secondary"
          className="bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20"
        >
          Warning
        </Badge>
      )
    case "exceeded":
      return (
        <Badge
          variant="secondary"
          className="bg-red-500/10 text-red-500 hover:bg-red-500/20"
        >
          Exceeded
        </Badge>
      )
  }
}

/**
 * Status color mapping for charts and other visualizations
 */
export const statusColors = {
  active: "hsl(142, 71%, 45%)",
  warning: "hsl(38, 92%, 50%)",
  exceeded: "hsl(0, 84%, 60%)",
} as const
</file>

<file path="types/next-auth.d.ts">
import { DefaultSession } from "next-auth"

declare module "next-auth" {
  interface Session {
    user: {
      id: string
    } & DefaultSession["user"]
  }
}

declare module "next-auth/jwt" {
  interface JWT {
    id?: string
    accessToken?: string
  }
}
</file>

<file path="auth.ts">
import NextAuth from "next-auth"
import Google from "next-auth/providers/google"

export const { handlers, signIn, signOut, auth } = NextAuth({
  providers: [
    Google({
      clientId: process.env.AUTH_GOOGLE_ID,
      clientSecret: process.env.AUTH_GOOGLE_SECRET,
    }),
  ],
  pages: {
    signIn: "/",
  },
  callbacks: {
    async jwt({ token, account, profile }) {
      if (account) {
        token.accessToken = account.access_token
        token.id = profile?.sub
      }
      return token
    },
    async session({ session, token }) {
      if (session.user) {
        session.user.id = token.id as string
      }
      return session
    },
  },
})
</file>

<file path="GOOGLE_OAUTH_SETUP.md">
# Google OAuth ì„¤ì • ê°€ì´ë“œ

Google OAuthë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸í•˜ë ¤ë©´ Google Cloud Consoleì—ì„œ OAuth 2.0 í´ë¼ì´ì–¸íŠ¸ IDë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

## 1. Google Cloud Console ì„¤ì •

### 1.1 í”„ë¡œì íŠ¸ ìƒì„±
1. [Google Cloud Console](https://console.cloud.google.com/)ì— ì ‘ì†
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„± ë˜ëŠ” ê¸°ì¡´ í”„ë¡œì íŠ¸ ì„ íƒ

### 1.2 OAuth ë™ì˜ í™”ë©´ ì„¤ì •
1. ì™¼ìª½ ë©”ë‰´ì—ì„œ **APIs & Services** > **OAuth consent screen** ì„ íƒ
2. User Type: **External** ì„ íƒ í›„ **Create**
3. í•„ìˆ˜ ì •ë³´ ì…ë ¥:
   - App name: ì•± ì´ë¦„
   - User support email: ì§€ì› ì´ë©”ì¼
   - Developer contact information: ê°œë°œì ì´ë©”ì¼
4. **Save and Continue**

### 1.3 OAuth í´ë¼ì´ì–¸íŠ¸ ID ìƒì„±
1. ì™¼ìª½ ë©”ë‰´ì—ì„œ **APIs & Services** > **Credentials** ì„ íƒ
2. **+ CREATE CREDENTIALS** > **OAuth client ID** í´ë¦­
3. Application type: **Web application** ì„ íƒ
4. Name: í´ë¼ì´ì–¸íŠ¸ ì´ë¦„ ì…ë ¥
5. **Authorized JavaScript origins** ì¶”ê°€:
   - `http://localhost:3000`
   - (ë°°í¬ ì‹œ) `https://your-domain.com`
6. **Authorized redirect URIs** ì¶”ê°€:
   - `http://localhost:3000/api/auth/callback/google`
   - (ë°°í¬ ì‹œ) `https://your-domain.com/api/auth/callback/google`
7. **Create** í´ë¦­

### 1.4 í´ë¼ì´ì–¸íŠ¸ IDì™€ Secret ë³µì‚¬
- ìƒì„±ëœ **Client ID**ì™€ **Client Secret**ì„ ë³µì‚¬í•˜ì—¬ `.env.local` íŒŒì¼ì— ì €ì¥

## 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ì„ ì—´ì–´ ë‹¤ìŒ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”:

```env
# NextAuth.js Configuration
AUTH_SECRET="ì‹¤ì œë¡œ-ì‚¬ìš©í• -ë¹„ë°€-í‚¤ë¥¼-ì—¬ê¸°ì—-ì…ë ¥í•˜ì„¸ìš”"

# Google OAuth Credentials (NextAuth v5 naming convention)
AUTH_GOOGLE_ID="ì—¬ê¸°ì—-Google-Client-ID-ì…ë ¥"
AUTH_GOOGLE_SECRET="ì—¬ê¸°ì—-Google-Client-Secret-ì…ë ¥"

# Application URL
NEXTAUTH_URL="http://localhost:3000"
```

### 2.1 AUTH_SECRET ìƒì„±
í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ëœë¤ secret ìƒì„±:

```bash
openssl rand -base64 32
```

ìƒì„±ëœ ê°’ì„ `AUTH_SECRET`ì— ì…ë ¥í•˜ì„¸ìš”.

## 3. ë°°í¬ ì‹œ ì„¤ì •

í”„ë¡œë•ì…˜ í™˜ê²½ì— ë°°í¬í•  ë•Œ:

1. Google Cloud Consoleì—ì„œ **Authorized redirect URIs**ì— í”„ë¡œë•ì…˜ URL ì¶”ê°€:
   - `https://your-domain.com/api/auth/callback/google`

2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:
   ```env
   AUTH_SECRET="your-production-secret"
   AUTH_GOOGLE_ID="your-client-id"
   AUTH_GOOGLE_SECRET="your-client-secret"
   NEXTAUTH_URL="https://your-domain.com"
   ```

## 4. í…ŒìŠ¤íŠ¸

1. ê°œë°œ ì„œë²„ ì‹œì‘:
   ```bash
   pnpm dev
   ```

2. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000` ì ‘ì†
3. ë¡œê·¸ì¸ ëª¨ë‹¬ì—ì„œ Google ë²„íŠ¼ í´ë¦­
4. Google ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸

## ë¬¸ì œ í•´ê²°

### "redirect_uri_mismatch" ì˜¤ë¥˜
- Google Cloud Consoleì˜ **Authorized redirect URIs**ì™€ ì‹¤ì œ ì½œë°± URLì´ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
- URL ëì— ìŠ¬ë˜ì‹œ(`/`)ê°€ ì—†ëŠ”ì§€ í™•ì¸

### "invalid_client" ì˜¤ë¥˜
- `.env.local` íŒŒì¼ì˜ `GOOGLE_CLIENT_ID`ì™€ `GOOGLE_CLIENT_SECRET`ì´ ì •í™•í•œì§€ í™•ì¸
- ê°œë°œ ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
</file>

<file path="middleware.ts">
import { auth } from "@/auth"
import { NextResponse } from "next/server"

export default auth((req) => {
  const { pathname } = req.nextUrl
  const isLoggedIn = !!req.auth

  // ë³´í˜¸ëœ ê²½ë¡œ (ë¡œê·¸ì¸ í•„ìš”)
  const protectedPaths = ["/dashboard"]
  const isProtectedPath = protectedPaths.some((path) =>
    pathname.startsWith(path)
  )

  // ë¡œê·¸ì¸ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë³´í˜¸ëœ ê²½ë¡œ ì ‘ê·¼ ì‹œ í™ˆìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
  if (isProtectedPath && !isLoggedIn) {
    return NextResponse.redirect(new URL("/", req.url))
  }

  return NextResponse.next()
})

// middlewareê°€ ì‹¤í–‰ë  ê²½ë¡œ ì„¤ì •
export const config = {
  matcher: [
    /*
     * Match all request paths except for the ones starting with:
     * - api (API routes)
     * - _next/static (static files)
     * - _next/image (image optimization files)
     * - favicon.ico (favicon file)
     */
    "/((?!api|_next/static|_next/image|favicon.ico).*)",
  ],
}
</file>

<file path="components/dashboard/dashboard-header.tsx">
"use client"

import * as React from "react"
import { SidebarTrigger } from "@/components/ui/sidebar"
import { Separator } from "@/components/ui/separator"
import { ThemeToggle } from "@/components/theme-toggle"
import { Button } from "@/components/ui/button"
import { User, LogOut, Mail, UserCircle } from "lucide-react"
import { LoginModal } from "@/components/auth/login-modal"
import { SignupModal } from "@/components/auth/signup-modal"
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu"
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar"
import { useSession, signOut } from "next-auth/react"

export function DashboardHeader() {
  const [loginOpen, setLoginOpen] = React.useState(false)
  const [signupOpen, setSignupOpen] = React.useState(false)
  const { data: session, status } = useSession()

  const handleSwitchToSignup = () => {
    setLoginOpen(false)
    setTimeout(() => setSignupOpen(true), 150)
  }

  const handleSwitchToLogin = () => {
    setSignupOpen(false)
    setTimeout(() => setLoginOpen(true), 150)
  }

  const handleSignOut = async () => {
    await signOut({ callbackUrl: "/" })
  }

  // Get user initials for avatar fallback
  const getUserInitials = (name?: string | null) => {
    if (!name) return "U"
    return name
      .split(" ")
      .map((n) => n[0])
      .join("")
      .toUpperCase()
      .slice(0, 2)
  }

  return (
    <>
      <header className="flex h-16 shrink-0 items-center gap-2 border-b px-4">
        <SidebarTrigger className="-ml-1" />
        <Separator orientation="vertical" className="mr-2 h-4" />
        <div className="flex flex-1 items-center justify-between">
          <h1 className="text-lg font-semibold">AI SaaS Dashboard</h1>
          <div className="flex items-center gap-2">
            <ThemeToggle />

            {status === "loading" ? (
              <Button variant="ghost" size="icon" disabled>
                <User className="h-5 w-5 animate-pulse" />
              </Button>
            ) : session ? (
              <DropdownMenu>
                <DropdownMenuTrigger className="relative h-9 w-9 rounded-full border-none bg-transparent hover:bg-accent cursor-pointer outline-none">
                  <Avatar className="h-9 w-9">
                    <AvatarImage
                      src={session.user?.image || undefined}
                      alt={session.user?.name || "User"}
                    />
                    <AvatarFallback>
                      {getUserInitials(session.user?.name)}
                    </AvatarFallback>
                  </Avatar>
                </DropdownMenuTrigger>
                <DropdownMenuContent className="w-64" align="end">
                  <DropdownMenuGroup>
                    <DropdownMenuLabel className="font-normal">
                      <div className="flex flex-col space-y-2">
                        <div className="flex items-center gap-2">
                          <Avatar className="h-10 w-10">
                            <AvatarImage
                              src={session.user?.image || undefined}
                              alt={session.user?.name || "User"}
                            />
                            <AvatarFallback>
                              {getUserInitials(session.user?.name)}
                            </AvatarFallback>
                          </Avatar>
                          <div className="flex flex-col space-y-1">
                            <p className="text-sm font-medium leading-none">
                              {session.user?.name || "User"}
                            </p>
                            <p className="text-xs leading-none text-muted-foreground">
                              {session.user?.email}
                            </p>
                          </div>
                        </div>
                      </div>
                    </DropdownMenuLabel>
                  </DropdownMenuGroup>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem disabled>
                    <UserCircle className="mr-2 h-4 w-4" />
                    <span>Profile</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem disabled>
                    <Mail className="mr-2 h-4 w-4" />
                    <span>Messages</span>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem onClick={handleSignOut}>
                    <LogOut className="mr-2 h-4 w-4" />
                    <span>Log out</span>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            ) : (
              <Button
                variant="ghost"
                size="icon"
                aria-label="Sign in"
                onClick={() => setLoginOpen(true)}
              >
                <User className="h-5 w-5" />
              </Button>
            )}
          </div>
        </div>
      </header>

      <LoginModal
        open={loginOpen}
        onOpenChange={setLoginOpen}
        onSwitchToSignup={handleSwitchToSignup}
      />
      <SignupModal
        open={signupOpen}
        onOpenChange={setSignupOpen}
        onSwitchToLogin={handleSwitchToLogin}
      />
    </>
  )
}
</file>

<file path="components/ui/alert-dialog.tsx">
"use client"

import * as React from "react"
import { AlertDialog as AlertDialogPrimitive } from "@base-ui/react/alert-dialog"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

function AlertDialog({ ...props }: AlertDialogPrimitive.Root.Props) {
  return <AlertDialogPrimitive.Root data-slot="alert-dialog" {...props} />
}

function AlertDialogTrigger({ ...props }: AlertDialogPrimitive.Trigger.Props) {
  return (
    <AlertDialogPrimitive.Trigger data-slot="alert-dialog-trigger" {...props} />
  )
}

function AlertDialogPortal({ ...props }: AlertDialogPrimitive.Portal.Props) {
  return (
    <AlertDialogPrimitive.Portal data-slot="alert-dialog-portal" {...props} />
  )
}

function AlertDialogOverlay({
  className,
  ...props
}: AlertDialogPrimitive.Backdrop.Props) {
  return (
    <AlertDialogPrimitive.Backdrop
      data-slot="alert-dialog-overlay"
      className={cn(
        "data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 isolate z-50",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogContent({
  className,
  size = "default",
  ...props
}: AlertDialogPrimitive.Popup.Props & {
  size?: "default" | "sm"
}) {
  return (
    <AlertDialogPortal>
      <AlertDialogOverlay />
      <AlertDialogPrimitive.Popup
        data-slot="alert-dialog-content"
        data-size={size}
        className={cn(
          "data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 bg-background ring-foreground/10 gap-6 rounded-xl p-6 ring-1 duration-100 data-[size=default]:max-w-xs data-[size=sm]:max-w-xs data-[size=default]:sm:max-w-lg group/alert-dialog-content fixed top-1/2 left-1/2 z-50 grid w-full -translate-x-1/2 -translate-y-1/2 outline-none",
          className
        )}
        {...props}
      />
    </AlertDialogPortal>
  )
}

function AlertDialogHeader({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-header"
      className={cn("grid grid-rows-[auto_1fr] place-items-center gap-1.5 text-center has-data-[slot=alert-dialog-media]:grid-rows-[auto_auto_1fr] has-data-[slot=alert-dialog-media]:gap-x-6 sm:group-data-[size=default]/alert-dialog-content:place-items-start sm:group-data-[size=default]/alert-dialog-content:text-left sm:group-data-[size=default]/alert-dialog-content:has-data-[slot=alert-dialog-media]:grid-rows-[auto_1fr]", className)}
      {...props}
    />
  )
}

function AlertDialogFooter({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 group-data-[size=sm]/alert-dialog-content:grid group-data-[size=sm]/alert-dialog-content:grid-cols-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogMedia({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-media"
      className={cn("bg-muted mb-2 inline-flex size-16 items-center justify-center rounded-md sm:group-data-[size=default]/alert-dialog-content:row-span-2 *:[svg:not([class*='size-'])]:size-8", className)}
      {...props}
    />
  )
}

function AlertDialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {
  return (
    <AlertDialogPrimitive.Title
      data-slot="alert-dialog-title"
      className={cn("text-lg font-medium sm:group-data-[size=default]/alert-dialog-content:group-has-data-[slot=alert-dialog-media]/alert-dialog-content:col-start-2", className)}
      {...props}
    />
  )
}

function AlertDialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {
  return (
    <AlertDialogPrimitive.Description
      data-slot="alert-dialog-description"
      className={cn("text-muted-foreground *:[a]:hover:text-foreground text-sm text-balance md:text-pretty *:[a]:underline *:[a]:underline-offset-3", className)}
      {...props}
    />
  )
}

function AlertDialogAction({
  className,
  ...props
}: React.ComponentProps<typeof Button>) {
  return (
    <Button
      data-slot="alert-dialog-action"
      className={cn(className)}
      {...props}
    />
  )
}

function AlertDialogCancel({
  className,
  variant = "outline",
  size = "default",
  ...props
}: AlertDialogPrimitive.Close.Props &
  Pick<React.ComponentProps<typeof Button>, "variant" | "size">) {
  return (
    <AlertDialogPrimitive.Close
      data-slot="alert-dialog-cancel"
      className={cn(className)}
      render={<Button variant={variant} size={size} />}
      {...props}
    />
  )
}

export {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogMedia,
  AlertDialogOverlay,
  AlertDialogPortal,
  AlertDialogTitle,
  AlertDialogTrigger,
}
</file>

<file path="components/ui/avatar.tsx">
"use client"

import * as React from "react"
import { Avatar as AvatarPrimitive } from "@base-ui/react/avatar"

import { cn } from "@/lib/utils"

function Avatar({
  className,
  size = "default",
  ...props
}: AvatarPrimitive.Root.Props & {
  size?: "default" | "sm" | "lg"
}) {
  return (
    <AvatarPrimitive.Root
      data-slot="avatar"
      data-size={size}
      className={cn(
        "size-8 rounded-full after:rounded-full data-[size=lg]:size-10 data-[size=sm]:size-6 after:border-border group/avatar relative flex shrink-0 select-none after:absolute after:inset-0 after:border after:mix-blend-darken dark:after:mix-blend-lighten",
        className
      )}
      {...props}
    />
  )
}

function AvatarImage({ className, ...props }: AvatarPrimitive.Image.Props) {
  return (
    <AvatarPrimitive.Image
      data-slot="avatar-image"
      className={cn(
        "rounded-full aspect-square size-full object-cover",
        className
      )}
      {...props}
    />
  )
}

function AvatarFallback({
  className,
  ...props
}: AvatarPrimitive.Fallback.Props) {
  return (
    <AvatarPrimitive.Fallback
      data-slot="avatar-fallback"
      className={cn(
        "bg-muted text-muted-foreground rounded-full flex size-full items-center justify-center text-sm group-data-[size=sm]/avatar:text-xs",
        className
      )}
      {...props}
    />
  )
}

function AvatarBadge({ className, ...props }: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="avatar-badge"
      className={cn(
        "bg-primary text-primary-foreground ring-background absolute right-0 bottom-0 z-10 inline-flex items-center justify-center rounded-full bg-blend-color ring-2 select-none",
        "group-data-[size=sm]/avatar:size-2 group-data-[size=sm]/avatar:[&>svg]:hidden",
        "group-data-[size=default]/avatar:size-2.5 group-data-[size=default]/avatar:[&>svg]:size-2",
        "group-data-[size=lg]/avatar:size-3 group-data-[size=lg]/avatar:[&>svg]:size-2",
        className
      )}
      {...props}
    />
  )
}

function AvatarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="avatar-group"
      className={cn(
        "*:data-[slot=avatar]:ring-background group/avatar-group flex -space-x-2 *:data-[slot=avatar]:ring-2",
        className
      )}
      {...props}
    />
  )
}

function AvatarGroupCount({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="avatar-group-count"
      className={cn("bg-muted text-muted-foreground size-8 rounded-full text-sm group-has-data-[size=lg]/avatar-group:size-10 group-has-data-[size=sm]/avatar-group:size-6 [&>svg]:size-4 group-has-data-[size=lg]/avatar-group:[&>svg]:size-5 group-has-data-[size=sm]/avatar-group:[&>svg]:size-3 ring-background relative flex shrink-0 items-center justify-center ring-2", className)}
      {...props}
    />
  )
}

export {
  Avatar,
  AvatarImage,
  AvatarFallback,
  AvatarGroup,
  AvatarGroupCount,
  AvatarBadge,
}
</file>

<file path="components/ui/badge.tsx">
import { mergeProps } from "@base-ui/react/merge-props"
import { useRender } from "@base-ui/react/use-render"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "h-5 gap-1 rounded-4xl border border-transparent px-2 py-0.5 text-xs font-medium transition-all has-data-[icon=inline-end]:pr-1.5 has-data-[icon=inline-start]:pl-1.5 [&>svg]:size-3! inline-flex items-center justify-center w-fit whitespace-nowrap shrink-0 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive overflow-hidden group/badge",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground [a]:hover:bg-primary/80",
        secondary: "bg-secondary text-secondary-foreground [a]:hover:bg-secondary/80",
        destructive: "bg-destructive/10 [a]:hover:bg-destructive/20 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 text-destructive dark:bg-destructive/20",
        outline: "border-border text-foreground [a]:hover:bg-muted [a]:hover:text-muted-foreground",
        ghost: "hover:bg-muted hover:text-muted-foreground dark:hover:bg-muted/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Badge({
  className,
  variant = "default",
  render,
  ...props
}: useRender.ComponentProps<"span"> & VariantProps<typeof badgeVariants>) {
  return useRender({
    defaultTagName: "span",
    props: mergeProps<"span">(
      {
        className: cn(badgeVariants({ className, variant })),
      },
      props
    ),
    render,
    state: {
      slot: "badge",
      variant,
    },
  })
}

export { Badge, badgeVariants }
</file>

<file path="components/ui/button.tsx">
"use client"

import { Button as ButtonPrimitive } from "@base-ui/react/button"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 rounded-md border border-transparent bg-clip-padding text-sm font-medium focus-visible:ring-[3px] aria-invalid:ring-[3px] [&_svg:not([class*='size-'])]:size-4 inline-flex items-center justify-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none shrink-0 [&_svg]:shrink-0 outline-none group/button select-none",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/80",
        outline: "border-border bg-background hover:bg-muted hover:text-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 aria-expanded:bg-muted aria-expanded:text-foreground shadow-xs",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80 aria-expanded:bg-secondary aria-expanded:text-secondary-foreground",
        ghost: "hover:bg-muted hover:text-foreground dark:hover:bg-muted/50 aria-expanded:bg-muted aria-expanded:text-foreground",
        destructive: "bg-destructive/10 hover:bg-destructive/20 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/20 text-destructive focus-visible:border-destructive/40 dark:hover:bg-destructive/30",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 gap-1.5 px-2.5 in-data-[slot=button-group]:rounded-md has-data-[icon=inline-end]:pr-2 has-data-[icon=inline-start]:pl-2",
        xs: "h-6 gap-1 rounded-[min(var(--radius-md),8px)] px-2 text-xs in-data-[slot=button-group]:rounded-md has-data-[icon=inline-end]:pr-1.5 has-data-[icon=inline-start]:pl-1.5 [&_svg:not([class*='size-'])]:size-3",
        sm: "h-8 gap-1 rounded-[min(var(--radius-md),10px)] px-2.5 in-data-[slot=button-group]:rounded-md has-data-[icon=inline-end]:pr-1.5 has-data-[icon=inline-start]:pl-1.5",
        lg: "h-10 gap-1.5 px-2.5 has-data-[icon=inline-end]:pr-3 has-data-[icon=inline-start]:pl-3",
        icon: "size-9",
        "icon-xs": "size-6 rounded-[min(var(--radius-md),8px)] in-data-[slot=button-group]:rounded-md [&_svg:not([class*='size-'])]:size-3",
        "icon-sm": "size-8 rounded-[min(var(--radius-md),10px)] in-data-[slot=button-group]:rounded-md",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant = "default",
  size = "default",
  ...props
}: ButtonPrimitive.Props & VariantProps<typeof buttonVariants>) {
  return (
    <ButtonPrimitive
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }
</file>

<file path="components/ui/card.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({
  className,
  size = "default",
  ...props
}: React.ComponentProps<"div"> & { size?: "default" | "sm" }) {
  return (
    <div
      data-slot="card"
      data-size={size}
      className={cn("ring-foreground/10 bg-card text-card-foreground gap-6 overflow-hidden rounded-xl py-6 text-sm shadow-xs ring-1 has-[>img:first-child]:pt-0 data-[size=sm]:gap-4 data-[size=sm]:py-4 *:[img:first-child]:rounded-t-xl *:[img:last-child]:rounded-b-xl group/card flex flex-col", className)}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "gap-1 rounded-t-xl px-6 group-data-[size=sm]/card:px-4 [.border-b]:pb-6 group-data-[size=sm]/card:[.border-b]:pb-4 group/card-header @container/card-header grid auto-rows-min items-start has-data-[slot=card-action]:grid-cols-[1fr_auto] has-data-[slot=card-description]:grid-rows-[auto_auto]",
        className
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("text-base leading-normal font-medium group-data-[size=sm]/card:text-sm", className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6 group-data-[size=sm]/card:px-4", className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("rounded-b-xl px-6 group-data-[size=sm]/card:px-4 [.border-t]:pt-6 group-data-[size=sm]/card:[.border-t]:pt-4 flex items-center", className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}
</file>

<file path="components/ui/chart.tsx">
"use client"

import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

function ChartContainer({
  id,
  className,
  children,
  config,
  ...props
}: React.ComponentProps<"div"> & {
  config: ChartConfig
  children: React.ComponentProps<
    typeof RechartsPrimitive.ResponsiveContainer
  >["children"]
}) {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-slot="chart"
        data-chart={chartId}
        className={cn(
          "[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
}

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

function ChartTooltipContent({
  active,
  payload,
  className,
  indicator = "dot",
  hideLabel = false,
  hideIndicator = false,
  label,
  labelFormatter,
  labelClassName,
  formatter,
  color,
  nameKey,
  labelKey,
}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
  React.ComponentProps<"div"> & {
    hideLabel?: boolean
    hideIndicator?: boolean
    indicator?: "line" | "dot" | "dashed"
    nameKey?: string
    labelKey?: string
  }) {
  const { config } = useChart()

  const tooltipLabel = React.useMemo(() => {
    if (hideLabel || !payload?.length) {
      return null
    }

    const [item] = payload
    const key = `${labelKey || item?.dataKey || item?.name || "value"}`
    const itemConfig = getPayloadConfigFromPayload(config, item, key)
    const value =
      !labelKey && typeof label === "string"
        ? config[label as keyof typeof config]?.label || label
        : itemConfig?.label

    if (labelFormatter) {
      return (
        <div className={cn("font-medium", labelClassName)}>
          {labelFormatter(value, payload)}
        </div>
      )
    }

    if (!value) {
      return null
    }

    return <div className={cn("font-medium", labelClassName)}>{value}</div>
  }, [
    label,
    labelFormatter,
    payload,
    hideLabel,
    labelClassName,
    config,
    labelKey,
  ])

  if (!active || !payload?.length) {
    return null
  }

  const nestLabel = payload.length === 1 && indicator !== "dot"

  return (
    <div
      className={cn(
        "border-border/50 bg-background gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl grid min-w-[8rem] items-start",
        className
      )}
    >
      {!nestLabel ? tooltipLabel : null}
      <div className="grid gap-1.5">
        {payload
          .filter((item) => item.type !== "none")
          .map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || "value"}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)
            const indicatorColor = color || item.payload.fill || item.color

            return (
              <div
                key={item.dataKey}
                className={cn(
                  "[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",
                  indicator === "dot" && "items-center"
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            "shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",
                            {
                              "h-2.5 w-2.5": indicator === "dot",
                              "w-1": indicator === "line",
                              "w-0 border-[1.5px] border-dashed bg-transparent":
                                indicator === "dashed",
                              "my-0.5": nestLabel && indicator === "dashed",
                            }
                          )}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center"
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="text-foreground font-mono font-medium tabular-nums">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            )
          })}
      </div>
    </div>
  )
}

const ChartLegend = RechartsPrimitive.Legend

function ChartLegendContent({
  className,
  hideIcon = false,
  payload,
  verticalAlign = "bottom",
  nameKey,
}: React.ComponentProps<"div"> &
  Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
    hideIcon?: boolean
    nameKey?: string
  }) {
  const { config } = useChart()

  if (!payload?.length) {
    return null
  }

  return (
    <div
      className={cn(
        "flex items-center justify-center gap-4",
        verticalAlign === "top" ? "pb-3" : "pt-3",
        className
      )}
    >
      {payload
        .filter((item) => item.type !== "none")
        .map((item) => {
          const key = `${nameKey || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)

          return (
            <div
              key={item.value}
              className={cn(
                "[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3"
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          )
        })}
    </div>
  )
}

function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}
</file>

<file path="components/ui/checkbox.tsx">
"use client"

import { Checkbox as CheckboxPrimitive } from "@base-ui/react/checkbox"

import { cn } from "@/lib/utils"
import { CheckIcon } from "lucide-react"

function Checkbox({ className, ...props }: CheckboxPrimitive.Root.Props) {
  return (
    <CheckboxPrimitive.Root
      data-slot="checkbox"
      className={cn(
        "border-input dark:bg-input/30 data-checked:bg-primary data-checked:text-primary-foreground dark:data-checked:bg-primary data-checked:border-primary aria-invalid:aria-checked:border-primary aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 flex size-4 items-center justify-center rounded-[4px] border shadow-xs transition-shadow group-has-disabled/field:opacity-50 focus-visible:ring-[3px] aria-invalid:ring-[3px] peer relative shrink-0 outline-none after:absolute after:-inset-x-3 after:-inset-y-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <CheckboxPrimitive.Indicator
        data-slot="checkbox-indicator"
        className="[&>svg]:size-3.5 grid place-content-center text-current transition-none"
      >
        <CheckIcon
        />
      </CheckboxPrimitive.Indicator>
    </CheckboxPrimitive.Root>
  )
}

export { Checkbox }
</file>

<file path="components/ui/combobox.tsx">
"use client"

import * as React from "react"
import { Combobox as ComboboxPrimitive } from "@base-ui/react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import {
  InputGroup,
  InputGroupAddon,
  InputGroupButton,
  InputGroupInput,
} from "@/components/ui/input-group"
import { ChevronDownIcon, XIcon, CheckIcon } from "lucide-react"

const Combobox = ComboboxPrimitive.Root

function ComboboxValue({ ...props }: ComboboxPrimitive.Value.Props) {
  return <ComboboxPrimitive.Value data-slot="combobox-value" {...props} />
}

function ComboboxTrigger({
  className,
  children,
  ...props
}: ComboboxPrimitive.Trigger.Props) {
  return (
    <ComboboxPrimitive.Trigger
      data-slot="combobox-trigger"
      className={cn("[&_svg:not([class*='size-'])]:size-4", className)}
      {...props}
    >
      {children}
      <ChevronDownIcon className="text-muted-foreground size-4 pointer-events-none" />
    </ComboboxPrimitive.Trigger>
  )
}

function ComboboxClear({ className, ...props }: ComboboxPrimitive.Clear.Props) {
  return (
    <ComboboxPrimitive.Clear
      data-slot="combobox-clear"
      render={<InputGroupButton variant="ghost" size="icon-xs" />}
      className={cn(className)}
      {...props}
    >
      <XIcon className="pointer-events-none" />
    </ComboboxPrimitive.Clear>
  )
}

function ComboboxInput({
  className,
  children,
  disabled = false,
  showTrigger = true,
  showClear = false,
  ...props
}: ComboboxPrimitive.Input.Props & {
  showTrigger?: boolean
  showClear?: boolean
}) {
  return (
    <InputGroup className={cn("w-auto", className)}>
      <ComboboxPrimitive.Input
        render={<InputGroupInput disabled={disabled} />}
        {...props}
      />
      <InputGroupAddon align="inline-end">
        {showTrigger && (
          <InputGroupButton
            size="icon-xs"
            variant="ghost"
            render={<ComboboxTrigger />}
            data-slot="input-group-button"
            className="group-has-data-[slot=combobox-clear]/input-group:hidden data-pressed:bg-transparent"
            disabled={disabled}
          />
        )}
        {showClear && <ComboboxClear disabled={disabled} />}
      </InputGroupAddon>
      {children}
    </InputGroup>
  )
}

function ComboboxContent({
  className,
  side = "bottom",
  sideOffset = 6,
  align = "start",
  alignOffset = 0,
  anchor,
  ...props
}: ComboboxPrimitive.Popup.Props &
  Pick<
    ComboboxPrimitive.Positioner.Props,
    "side" | "align" | "sideOffset" | "alignOffset" | "anchor"
  >) {
  return (
    <ComboboxPrimitive.Portal>
      <ComboboxPrimitive.Positioner
        side={side}
        sideOffset={sideOffset}
        align={align}
        alignOffset={alignOffset}
        anchor={anchor}
        className="isolate z-50"
      >
        <ComboboxPrimitive.Popup
          data-slot="combobox-content"
          data-chips={!!anchor}
          className={cn("bg-popover text-popover-foreground data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 *:data-[slot=input-group]:bg-input/30 *:data-[slot=input-group]:border-input/30 max-h-72 min-w-36 overflow-hidden rounded-md shadow-md ring-1 duration-100 *:data-[slot=input-group]:m-1 *:data-[slot=input-group]:mb-0 *:data-[slot=input-group]:h-8 *:data-[slot=input-group]:shadow-none data-[side=inline-start]:slide-in-from-right-2 data-[side=inline-end]:slide-in-from-left-2 group/combobox-content relative max-h-(--available-height) w-(--anchor-width) max-w-(--available-width) min-w-[calc(var(--anchor-width)+--spacing(7))] origin-(--transform-origin) data-[chips=true]:min-w-(--anchor-width)", className )}
          {...props}
        />
      </ComboboxPrimitive.Positioner>
    </ComboboxPrimitive.Portal>
  )
}

function ComboboxList({ className, ...props }: ComboboxPrimitive.List.Props) {
  return (
    <ComboboxPrimitive.List
      data-slot="combobox-list"
      className={cn(
        "no-scrollbar max-h-[min(calc(--spacing(72)---spacing(9)),calc(var(--available-height)---spacing(9)))] scroll-py-1 overflow-y-auto p-1 data-empty:p-0 overflow-y-auto overscroll-contain",
        className
      )}
      {...props}
    />
  )
}

function ComboboxItem({
  className,
  children,
  ...props
}: ComboboxPrimitive.Item.Props) {
  return (
    <ComboboxPrimitive.Item
      data-slot="combobox-item"
      className={cn(
        "data-highlighted:bg-accent data-highlighted:text-accent-foreground not-data-[variant=destructive]:data-highlighted:**:text-accent-foreground gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm [&_svg:not([class*='size-'])]:size-4 relative flex w-full cursor-default items-center outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",
        className
      )}
      {...props}
    >
      {children}
      <ComboboxPrimitive.ItemIndicator
        render={<span className="pointer-events-none absolute right-2 flex size-4 items-center justify-center" />}
      >
        <CheckIcon className="pointer-events-none" />
      </ComboboxPrimitive.ItemIndicator>
    </ComboboxPrimitive.Item>
  )
}

function ComboboxGroup({ className, ...props }: ComboboxPrimitive.Group.Props) {
  return (
    <ComboboxPrimitive.Group
      data-slot="combobox-group"
      className={cn(className)}
      {...props}
    />
  )
}

function ComboboxLabel({
  className,
  ...props
}: ComboboxPrimitive.GroupLabel.Props) {
  return (
    <ComboboxPrimitive.GroupLabel
      data-slot="combobox-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  )
}

function ComboboxCollection({ ...props }: ComboboxPrimitive.Collection.Props) {
  return (
    <ComboboxPrimitive.Collection data-slot="combobox-collection" {...props} />
  )
}

function ComboboxEmpty({ className, ...props }: ComboboxPrimitive.Empty.Props) {
  return (
    <ComboboxPrimitive.Empty
      data-slot="combobox-empty"
      className={cn("text-muted-foreground hidden w-full justify-center py-2 text-center text-sm group-data-empty/combobox-content:flex", className)}
      {...props}
    />
  )
}

function ComboboxSeparator({
  className,
  ...props
}: ComboboxPrimitive.Separator.Props) {
  return (
    <ComboboxPrimitive.Separator
      data-slot="combobox-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function ComboboxChips({
  className,
  ...props
}: React.ComponentPropsWithRef<typeof ComboboxPrimitive.Chips> &
  ComboboxPrimitive.Chips.Props) {
  return (
    <ComboboxPrimitive.Chips
      data-slot="combobox-chips"
      className={cn("dark:bg-input/30 border-input focus-within:border-ring focus-within:ring-ring/50 has-aria-invalid:ring-destructive/20 dark:has-aria-invalid:ring-destructive/40 has-aria-invalid:border-destructive dark:has-aria-invalid:border-destructive/50 flex min-h-9 flex-wrap items-center gap-1.5 rounded-md border bg-transparent bg-clip-padding px-2.5 py-1.5 text-sm shadow-xs transition-[color,box-shadow] focus-within:ring-[3px] has-aria-invalid:ring-[3px] has-data-[slot=combobox-chip]:px-1.5", className)}
      {...props}
    />
  )
}

function ComboboxChip({
  className,
  children,
  showRemove = true,
  ...props
}: ComboboxPrimitive.Chip.Props & {
  showRemove?: boolean
}) {
  return (
    <ComboboxPrimitive.Chip
      data-slot="combobox-chip"
      className={cn(
        "bg-muted text-foreground flex h-[calc(--spacing(5.5))] w-fit items-center justify-center gap-1 rounded-sm px-1.5 text-xs font-medium whitespace-nowrap has-data-[slot=combobox-chip-remove]:pr-0 has-disabled:pointer-events-none has-disabled:cursor-not-allowed has-disabled:opacity-50",
        className
      )}
      {...props}
    >
      {children}
      {showRemove && (
        <ComboboxPrimitive.ChipRemove
          render={<Button variant="ghost" size="icon-xs" />}
          className="-ml-1 opacity-50 hover:opacity-100"
          data-slot="combobox-chip-remove"
        >
          <XIcon className="pointer-events-none" />
        </ComboboxPrimitive.ChipRemove>
      )}
    </ComboboxPrimitive.Chip>
  )
}

function ComboboxChipsInput({
  className,
  ...props
}: ComboboxPrimitive.Input.Props) {
  return (
    <ComboboxPrimitive.Input
      data-slot="combobox-chip-input"
      className={cn(
        "min-w-16 flex-1 outline-none",
        className
      )}
      {...props}
    />
  )
}

function useComboboxAnchor() {
  return React.useRef<HTMLDivElement | null>(null)
}

export {
  Combobox,
  ComboboxInput,
  ComboboxContent,
  ComboboxList,
  ComboboxItem,
  ComboboxGroup,
  ComboboxLabel,
  ComboboxCollection,
  ComboboxEmpty,
  ComboboxSeparator,
  ComboboxChips,
  ComboboxChip,
  ComboboxChipsInput,
  ComboboxTrigger,
  ComboboxValue,
  useComboboxAnchor,
}
</file>

<file path="components/ui/dialog.tsx">
"use client"

import * as React from "react"
import { Dialog as DialogPrimitive } from "@base-ui/react/dialog"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { XIcon } from "lucide-react"

function Dialog({ ...props }: DialogPrimitive.Root.Props) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />
}

function DialogTrigger({ ...props }: DialogPrimitive.Trigger.Props) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />
}

function DialogPortal({ ...props }: DialogPrimitive.Portal.Props) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />
}

function DialogClose({ ...props }: DialogPrimitive.Close.Props) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />
}

function DialogOverlay({
  className,
  ...props
}: DialogPrimitive.Backdrop.Props) {
  return (
    <DialogPrimitive.Backdrop
      data-slot="dialog-overlay"
      className={cn("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 isolate z-50", className)}
      {...props}
    />
  )
}

function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}: DialogPrimitive.Popup.Props & {
  showCloseButton?: boolean
}) {
  return (
    <DialogPortal>
      <DialogOverlay />
      <DialogPrimitive.Popup
        data-slot="dialog-content"
        className={cn(
          "bg-background data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 ring-foreground/10 grid max-w-[calc(100%-2rem)] gap-6 rounded-xl p-6 text-sm ring-1 duration-100 sm:max-w-md fixed top-1/2 left-1/2 z-50 w-full -translate-x-1/2 -translate-y-1/2 outline-none",
          className
        )}
        {...props}
      >
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            render={
              <Button
                variant="ghost"
                className="absolute top-4 right-4"
                size="icon-sm"
              />
            }
          >
            <XIcon
            />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Popup>
    </DialogPortal>
  )
}

function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("gap-2 flex flex-col", className)}
      {...props}
    />
  )
}

function DialogFooter({
  className,
  showCloseButton = false,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  showCloseButton?: boolean
}) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "gap-2 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    >
      {children}
      {showCloseButton && (
        <DialogPrimitive.Close render={<Button variant="outline" />}>
          Close
        </DialogPrimitive.Close>
      )}
    </div>
  )
}

function DialogTitle({ className, ...props }: DialogPrimitive.Title.Props) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("leading-none font-medium", className)}
      {...props}
    />
  )
}

function DialogDescription({
  className,
  ...props
}: DialogPrimitive.Description.Props) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground *:[a]:hover:text-foreground text-sm *:[a]:underline *:[a]:underline-offset-3", className)}
      {...props}
    />
  )
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
}
</file>

<file path="components/ui/dropdown-menu.tsx">
"use client"

import * as React from "react"
import { Menu as MenuPrimitive } from "@base-ui/react/menu"

import { cn } from "@/lib/utils"
import { ChevronRightIcon, CheckIcon } from "lucide-react"

function DropdownMenu({ ...props }: MenuPrimitive.Root.Props) {
  return <MenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({ ...props }: MenuPrimitive.Portal.Props) {
  return <MenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
}

function DropdownMenuTrigger({ ...props }: MenuPrimitive.Trigger.Props) {
  return <MenuPrimitive.Trigger data-slot="dropdown-menu-trigger" {...props} />
}

function DropdownMenuContent({
  align = "start",
  alignOffset = 0,
  side = "bottom",
  sideOffset = 4,
  className,
  ...props
}: MenuPrimitive.Popup.Props &
  Pick<
    MenuPrimitive.Positioner.Props,
    "align" | "alignOffset" | "side" | "sideOffset"
  >) {
  return (
    <MenuPrimitive.Portal>
      <MenuPrimitive.Positioner
        className="isolate z-50 outline-none"
        align={align}
        alignOffset={alignOffset}
        side={side}
        sideOffset={sideOffset}
      >
        <MenuPrimitive.Popup
          data-slot="dropdown-menu-content"
          className={cn("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 bg-popover text-popover-foreground min-w-32 rounded-md p-1 shadow-md ring-1 duration-100 data-[side=inline-start]:slide-in-from-right-2 data-[side=inline-end]:slide-in-from-left-2 z-50 max-h-(--available-height) w-(--anchor-width) origin-(--transform-origin) overflow-x-hidden overflow-y-auto outline-none data-closed:overflow-hidden", className )}
          {...props}
        />
      </MenuPrimitive.Positioner>
    </MenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({ ...props }: MenuPrimitive.Group.Props) {
  return <MenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: MenuPrimitive.GroupLabel.Props & {
  inset?: boolean
}) {
  return (
    <MenuPrimitive.GroupLabel
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn("text-muted-foreground px-2 py-1.5 text-xs font-medium data-[inset]:pl-8", className)}
      {...props}
    />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: MenuPrimitive.Item.Props & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <MenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive not-data-[variant=destructive]:focus:**:text-accent-foreground gap-2 rounded-sm px-2 py-1.5 text-sm [&_svg:not([class*='size-'])]:size-4 group/dropdown-menu-item relative flex cursor-default items-center outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({ ...props }: MenuPrimitive.SubmenuRoot.Props) {
  return <MenuPrimitive.SubmenuRoot data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: MenuPrimitive.SubmenuTrigger.Props & {
  inset?: boolean
}) {
  return (
    <MenuPrimitive.SubmenuTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-open:bg-accent data-open:text-accent-foreground not-data-[variant=destructive]:focus:**:text-accent-foreground gap-2 rounded-sm px-2 py-1.5 text-sm [&_svg:not([class*='size-'])]:size-4 data-popup-open:bg-accent data-popup-open:text-accent-foreground flex cursor-default items-center outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto" />
    </MenuPrimitive.SubmenuTrigger>
  )
}

function DropdownMenuSubContent({
  align = "start",
  alignOffset = -3,
  side = "right",
  sideOffset = 0,
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuContent>) {
  return (
    <DropdownMenuContent
      data-slot="dropdown-menu-sub-content"
      className={cn("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 bg-popover text-popover-foreground min-w-[96px] rounded-md p-1 shadow-lg ring-1 duration-100 w-auto", className)}
      align={align}
      alignOffset={alignOffset}
      side={side}
      sideOffset={sideOffset}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: MenuPrimitive.CheckboxItem.Props) {
  return (
    <MenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground focus:**:text-accent-foreground gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm [&_svg:not([class*='size-'])]:size-4 relative flex cursor-default items-center outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",
        className
      )}
      checked={checked}
      {...props}
    >
      <span
        className="pointer-events-none absolute right-2 flex items-center justify-center pointer-events-none"
        data-slot="dropdown-menu-checkbox-item-indicator"
      >
        <MenuPrimitive.CheckboxItemIndicator>
          <CheckIcon
          />
        </MenuPrimitive.CheckboxItemIndicator>
      </span>
      {children}
    </MenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({ ...props }: MenuPrimitive.RadioGroup.Props) {
  return (
    <MenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: MenuPrimitive.RadioItem.Props) {
  return (
    <MenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground focus:**:text-accent-foreground gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm [&_svg:not([class*='size-'])]:size-4 relative flex cursor-default items-center outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",
        className
      )}
      {...props}
    >
      <span
        className="pointer-events-none absolute right-2 flex items-center justify-center pointer-events-none"
        data-slot="dropdown-menu-radio-item-indicator"
      >
        <MenuPrimitive.RadioItemIndicator>
          <CheckIcon
          />
        </MenuPrimitive.RadioItemIndicator>
      </span>
      {children}
    </MenuPrimitive.RadioItem>
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: MenuPrimitive.Separator.Props) {
  return (
    <MenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn("text-muted-foreground group-focus/dropdown-menu-item:text-accent-foreground ml-auto text-xs tracking-widest", className)}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}
</file>

<file path="components/ui/field.tsx">
"use client"

import { useMemo } from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"
import { Separator } from "@/components/ui/separator"

function FieldSet({ className, ...props }: React.ComponentProps<"fieldset">) {
  return (
    <fieldset
      data-slot="field-set"
      className={cn("gap-6 has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3 flex flex-col", className)}
      {...props}
    />
  )
}

function FieldLegend({
  className,
  variant = "legend",
  ...props
}: React.ComponentProps<"legend"> & { variant?: "legend" | "label" }) {
  return (
    <legend
      data-slot="field-legend"
      data-variant={variant}
      className={cn("mb-3 font-medium data-[variant=label]:text-sm data-[variant=legend]:text-base", className)}
      {...props}
    />
  )
}

function FieldGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="field-group"
      className={cn(
        "gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4 group/field-group @container/field-group flex w-full flex-col",
        className
      )}
      {...props}
    />
  )
}

const fieldVariants = cva("data-[invalid=true]:text-destructive gap-3 group/field flex w-full", {
  variants: {
    orientation: {
      vertical:
        "flex-col [&>*]:w-full [&>.sr-only]:w-auto",
      horizontal:
        "flex-row items-center [&>[data-slot=field-label]]:flex-auto has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px",
      responsive:
        "flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto @md/field-group:[&>[data-slot=field-label]]:flex-auto @md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px",
    },
  },
  defaultVariants: {
    orientation: "vertical",
  },
})

function Field({
  className,
  orientation = "vertical",
  ...props
}: React.ComponentProps<"div"> & VariantProps<typeof fieldVariants>) {
  return (
    <div
      role="group"
      data-slot="field"
      data-orientation={orientation}
      className={cn(fieldVariants({ orientation }), className)}
      {...props}
    />
  )
}

function FieldContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="field-content"
      className={cn(
        "gap-1 group/field-content flex flex-1 flex-col leading-snug",
        className
      )}
      {...props}
    />
  )
}

function FieldLabel({
  className,
  ...props
}: React.ComponentProps<typeof Label>) {
  return (
    <Label
      data-slot="field-label"
      className={cn(
        "has-data-checked:bg-primary/5 has-data-checked:border-primary/30 dark:has-data-checked:border-primary/20 dark:has-data-checked:bg-primary/10 gap-2 group-data-[disabled=true]/field:opacity-50 has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-3 group/field-label peer/field-label flex w-fit leading-snug",
        "has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col",
        className
      )}
      {...props}
    />
  )
}

function FieldTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="field-label"
      className={cn(
        "gap-2 text-sm font-medium group-data-[disabled=true]/field:opacity-50 flex w-fit items-center leading-snug",
        className
      )}
      {...props}
    />
  )
}

function FieldDescription({ className, ...props }: React.ComponentProps<"p">) {
  return (
    <p
      data-slot="field-description"
      className={cn(
        "text-muted-foreground text-left text-sm [[data-variant=legend]+&]:-mt-1.5 leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance",
        "last:mt-0 nth-last-2:-mt-1",
        "[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",
        className
      )}
      {...props}
    />
  )
}

function FieldSeparator({
  children,
  className,
  ...props
}: React.ComponentProps<"div"> & {
  children?: React.ReactNode
}) {
  return (
    <div
      data-slot="field-separator"
      data-content={!!children}
      className={cn("-my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2 relative", className)}
      {...props}
    >
      <Separator className="absolute inset-0 top-1/2" />
      {children && (
        <span
          className="text-muted-foreground px-2 bg-background relative mx-auto block w-fit"
          data-slot="field-separator-content"
        >
          {children}
        </span>
      )}
    </div>
  )
}

function FieldError({
  className,
  children,
  errors,
  ...props
}: React.ComponentProps<"div"> & {
  errors?: Array<{ message?: string } | undefined>
}) {
  const content = useMemo(() => {
    if (children) {
      return children
    }

    if (!errors?.length) {
      return null
    }

    const uniqueErrors = [
      ...new Map(errors.map((error) => [error?.message, error])).values(),
    ]

    if (uniqueErrors?.length == 1) {
      return uniqueErrors[0]?.message
    }

    return (
      <ul className="ml-4 flex list-disc flex-col gap-1">
        {uniqueErrors.map(
          (error, index) =>
            error?.message && <li key={index}>{error.message}</li>
        )}
      </ul>
    )
  }, [children, errors])

  if (!content) {
    return null
  }

  return (
    <div
      role="alert"
      data-slot="field-error"
      className={cn("text-destructive text-sm font-normal", className)}
      {...props}
    >
      {content}
    </div>
  )
}

export {
  Field,
  FieldLabel,
  FieldDescription,
  FieldError,
  FieldGroup,
  FieldLegend,
  FieldSeparator,
  FieldSet,
  FieldContent,
  FieldTitle,
}
</file>

<file path="components/ui/input-group.tsx">
"use client"

import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Textarea } from "@/components/ui/textarea"

function InputGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="input-group"
      role="group"
      className={cn(
        "border-input dark:bg-input/30 has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40 h-9 rounded-md border shadow-xs transition-[color,box-shadow] has-[[data-slot=input-group-control]:focus-visible]:ring-[3px] has-[[data-slot][aria-invalid=true]]:ring-[3px] has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3 has-[>[data-align=block-start]]:[&>input]:pb-3 has-[>[data-align=inline-end]]:[&>input]:pr-1.5 has-[>[data-align=inline-start]]:[&>input]:pl-1.5 [[data-slot=combobox-content]_&]:focus-within:border-inherit [[data-slot=combobox-content]_&]:focus-within:ring-0 group/input-group relative flex w-full min-w-0 items-center outline-none has-[>textarea]:h-auto",
        className
      )}
      {...props}
    />
  )
}

const inputGroupAddonVariants = cva(
  "text-muted-foreground h-auto gap-2 py-1.5 text-sm font-medium group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-4 flex cursor-text items-center justify-center select-none",
  {
    variants: {
      align: {
        "inline-start": "pl-2 has-[>button]:ml-[-0.25rem] has-[>kbd]:ml-[-0.15rem] order-first",
        "inline-end": "pr-2 has-[>button]:mr-[-0.25rem] has-[>kbd]:mr-[-0.15rem] order-last",
        "block-start":
          "px-2.5 pt-2 group-has-[>input]/input-group:pt-2 [.border-b]:pb-2 order-first w-full justify-start",
        "block-end":
          "px-2.5 pb-2 group-has-[>input]/input-group:pb-2 [.border-t]:pt-2 order-last w-full justify-start",
      },
    },
    defaultVariants: {
      align: "inline-start",
    },
  }
)

function InputGroupAddon({
  className,
  align = "inline-start",
  ...props
}: React.ComponentProps<"div"> & VariantProps<typeof inputGroupAddonVariants>) {
  return (
    <div
      role="group"
      data-slot="input-group-addon"
      data-align={align}
      className={cn(inputGroupAddonVariants({ align }), className)}
      onClick={(e) => {
        if ((e.target as HTMLElement).closest("button")) {
          return
        }
        e.currentTarget.parentElement?.querySelector("input")?.focus()
      }}
      {...props}
    />
  )
}

const inputGroupButtonVariants = cva(
  "gap-2 text-sm shadow-none flex items-center",
  {
    variants: {
      size: {
        xs: "h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-1.5 [&>svg:not([class*='size-'])]:size-3.5",
        sm: "",
        "icon-xs": "size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0",
        "icon-sm": "size-8 p-0 has-[>svg]:p-0",
      },
    },
    defaultVariants: {
      size: "xs",
    },
  }
)

function InputGroupButton({
  className,
  type = "button",
  variant = "ghost",
  size = "xs",
  ...props
}: Omit<React.ComponentProps<typeof Button>, "size" | "type"> &
  VariantProps<typeof inputGroupButtonVariants> & {
    type?: "button" | "submit" | "reset"
  }) {
  return (
    <Button
      type={type}
      data-size={size}
      variant={variant}
      className={cn(inputGroupButtonVariants({ size }), className)}
      {...props}
    />
  )
}

function InputGroupText({ className, ...props }: React.ComponentProps<"span">) {
  return (
    <span
      className={cn(
        "text-muted-foreground gap-2 text-sm [&_svg:not([class*='size-'])]:size-4 flex items-center [&_svg]:pointer-events-none",
        className
      )}
      {...props}
    />
  )
}

function InputGroupInput({
  className,
  ...props
}: React.ComponentProps<"input">) {
  return (
    <Input
      data-slot="input-group-control"
      className={cn("rounded-none border-0 bg-transparent shadow-none ring-0 focus-visible:ring-0 aria-invalid:ring-0 dark:bg-transparent flex-1", className)}
      {...props}
    />
  )
}

function InputGroupTextarea({
  className,
  ...props
}: React.ComponentProps<"textarea">) {
  return (
    <Textarea
      data-slot="input-group-control"
      className={cn("rounded-none border-0 bg-transparent py-2 shadow-none ring-0 focus-visible:ring-0 aria-invalid:ring-0 dark:bg-transparent flex-1 resize-none", className)}
      {...props}
    />
  )
}

export {
  InputGroup,
  InputGroupAddon,
  InputGroupButton,
  InputGroupText,
  InputGroupInput,
  InputGroupTextarea,
}
</file>

<file path="components/ui/input.tsx">
import * as React from "react"
import { Input as InputPrimitive } from "@base-ui/react/input"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <InputPrimitive
      type={type}
      data-slot="input"
      className={cn(
        "dark:bg-input/30 border-input focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 h-9 rounded-md border bg-transparent px-2.5 py-1 text-base shadow-xs transition-[color,box-shadow] file:h-7 file:text-sm file:font-medium focus-visible:ring-[3px] aria-invalid:ring-[3px] md:text-sm file:text-foreground placeholder:text-muted-foreground w-full min-w-0 outline-none file:inline-flex file:border-0 file:bg-transparent disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export { Input }
</file>

<file path="components/ui/label.tsx">
"use client"

import * as React from "react"

import { cn } from "@/lib/utils"

function Label({ className, ...props }: React.ComponentProps<"label">) {
  return (
    <label
      data-slot="label"
      className={cn(
        "gap-2 text-sm leading-none font-medium group-data-[disabled=true]:opacity-50 peer-disabled:opacity-50 flex items-center select-none group-data-[disabled=true]:pointer-events-none peer-disabled:cursor-not-allowed",
        className
      )}
      {...props}
    />
  )
}

export { Label }
</file>

<file path="components/ui/progress.tsx">
"use client"

import { Progress as ProgressPrimitive } from "@base-ui/react/progress"

import { cn } from "@/lib/utils"

function Progress({
  className,
  children,
  value,
  ...props
}: ProgressPrimitive.Root.Props) {
  return (
    <ProgressPrimitive.Root
      value={value}
      data-slot="progress"
      className={cn("flex flex-wrap gap-3", className)}
      {...props}
    >
      {children}
      <ProgressTrack>
        <ProgressIndicator />
      </ProgressTrack>
    </ProgressPrimitive.Root>
  )
}

function ProgressTrack({ className, ...props }: ProgressPrimitive.Track.Props) {
  return (
    <ProgressPrimitive.Track
      className={cn(
        "bg-muted h-1.5 rounded-full relative flex w-full items-center overflow-x-hidden",
        className
      )}
      data-slot="progress-track"
      {...props}
    />
  )
}

function ProgressIndicator({
  className,
  ...props
}: ProgressPrimitive.Indicator.Props) {
  return (
    <ProgressPrimitive.Indicator
      data-slot="progress-indicator"
      className={cn("bg-primary h-full transition-all", className)}
      {...props}
    />
  )
}

function ProgressLabel({ className, ...props }: ProgressPrimitive.Label.Props) {
  return (
    <ProgressPrimitive.Label
      className={cn("text-sm font-medium", className)}
      data-slot="progress-label"
      {...props}
    />
  )
}

function ProgressValue({ className, ...props }: ProgressPrimitive.Value.Props) {
  return (
    <ProgressPrimitive.Value
      className={cn("text-muted-foreground ml-auto text-sm tabular-nums", className)}
      data-slot="progress-value"
      {...props}
    />
  )
}

export {
  Progress,
  ProgressTrack,
  ProgressIndicator,
  ProgressLabel,
  ProgressValue,
}
</file>

<file path="components/ui/select.tsx">
"use client"

import * as React from "react"
import { Select as SelectPrimitive } from "@base-ui/react/select"

import { cn } from "@/lib/utils"
import { ChevronDownIcon, CheckIcon, ChevronUpIcon } from "lucide-react"

const Select = SelectPrimitive.Root

function SelectGroup({ className, ...props }: SelectPrimitive.Group.Props) {
  return (
    <SelectPrimitive.Group
      data-slot="select-group"
      className={cn("scroll-my-1 p-1", className)}
      {...props}
    />
  )
}

function SelectValue({ className, ...props }: SelectPrimitive.Value.Props) {
  return (
    <SelectPrimitive.Value
      data-slot="select-value"
      className={cn("flex flex-1 text-left", className)}
      {...props}
    />
  )
}

function SelectTrigger({
  className,
  size = "default",
  children,
  ...props
}: SelectPrimitive.Trigger.Props & {
  size?: "sm" | "default"
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground dark:bg-input/30 dark:hover:bg-input/50 focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 gap-1.5 rounded-md border bg-transparent py-2 pr-2 pl-2.5 text-sm shadow-xs transition-[color,box-shadow] focus-visible:ring-[3px] aria-invalid:ring-[3px] data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:flex *:data-[slot=select-value]:gap-1.5 [&_svg:not([class*='size-'])]:size-4 flex w-fit items-center justify-between whitespace-nowrap outline-none disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center [&_svg]:pointer-events-none [&_svg]:shrink-0",
        className
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon
        render={
          <ChevronDownIcon className="text-muted-foreground size-4 pointer-events-none" />
        }
      />
    </SelectPrimitive.Trigger>
  )
}

function SelectContent({
  className,
  children,
  side = "bottom",
  sideOffset = 4,
  align = "center",
  alignOffset = 0,
  alignItemWithTrigger = true,
  ...props
}: SelectPrimitive.Popup.Props &
  Pick<
    SelectPrimitive.Positioner.Props,
    "align" | "alignOffset" | "side" | "sideOffset" | "alignItemWithTrigger"
  >) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Positioner
        side={side}
        sideOffset={sideOffset}
        align={align}
        alignOffset={alignOffset}
        alignItemWithTrigger={alignItemWithTrigger}
        className="isolate z-50"
      >
        <SelectPrimitive.Popup
          data-slot="select-content"
          data-align-trigger={alignItemWithTrigger}
          className={cn("bg-popover text-popover-foreground data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 min-w-36 rounded-md shadow-md ring-1 duration-100 data-[side=inline-start]:slide-in-from-right-2 data-[side=inline-end]:slide-in-from-left-2 relative isolate z-50 max-h-(--available-height) w-(--anchor-width) origin-(--transform-origin) overflow-x-hidden overflow-y-auto data-[align-trigger=true]:animate-none", className )}
          {...props}
        >
          <SelectScrollUpButton />
          <SelectPrimitive.List>{children}</SelectPrimitive.List>
          <SelectScrollDownButton />
        </SelectPrimitive.Popup>
      </SelectPrimitive.Positioner>
    </SelectPrimitive.Portal>
  )
}

function SelectLabel({
  className,
  ...props
}: SelectPrimitive.GroupLabel.Props) {
  return (
    <SelectPrimitive.GroupLabel
      data-slot="select-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  )
}

function SelectItem({
  className,
  children,
  ...props
}: SelectPrimitive.Item.Props) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground not-data-[variant=destructive]:focus:**:text-accent-foreground gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 relative flex w-full cursor-default items-center outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",
        className
      )}
      {...props}
    >
      <SelectPrimitive.ItemText className="flex flex-1 gap-2 shrink-0 whitespace-nowrap">
        {children}
      </SelectPrimitive.ItemText>
      <SelectPrimitive.ItemIndicator
        render={<span className="pointer-events-none absolute right-2 flex size-4 items-center justify-center" />}
      >
        <CheckIcon className="pointer-events-none" />
      </SelectPrimitive.ItemIndicator>
    </SelectPrimitive.Item>
  )
}

function SelectSeparator({
  className,
  ...props
}: SelectPrimitive.Separator.Props) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn("bg-border -mx-1 my-1 h-px pointer-events-none", className)}
      {...props}
    />
  )
}

function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpArrow>) {
  return (
    <SelectPrimitive.ScrollUpArrow
      data-slot="select-scroll-up-button"
      className={cn("bg-popover z-10 flex cursor-default items-center justify-center py-1 [&_svg:not([class*='size-'])]:size-4 top-0 w-full", className)}
      {...props}
    >
      <ChevronUpIcon
      />
    </SelectPrimitive.ScrollUpArrow>
  )
}

function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownArrow>) {
  return (
    <SelectPrimitive.ScrollDownArrow
      data-slot="select-scroll-down-button"
      className={cn("bg-popover z-10 flex cursor-default items-center justify-center py-1 [&_svg:not([class*='size-'])]:size-4 bottom-0 w-full", className)}
      {...props}
    >
      <ChevronDownIcon
      />
    </SelectPrimitive.ScrollDownArrow>
  )
}

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
}
</file>

<file path="components/ui/separator.tsx">
"use client"

import { Separator as SeparatorPrimitive } from "@base-ui/react/separator"

import { cn } from "@/lib/utils"

function Separator({
  className,
  orientation = "horizontal",
  ...props
}: SeparatorPrimitive.Props) {
  return (
    <SeparatorPrimitive
      data-slot="separator"
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:w-px data-[orientation=vertical]:self-stretch",
        className
      )}
      {...props}
    />
  )
}

export { Separator }
</file>

<file path="components/ui/sheet.tsx">
"use client"

import * as React from "react"
import { Dialog as SheetPrimitive } from "@base-ui/react/dialog"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { XIcon } from "lucide-react"

function Sheet({ ...props }: SheetPrimitive.Root.Props) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />
}

function SheetTrigger({ ...props }: SheetPrimitive.Trigger.Props) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />
}

function SheetClose({ ...props }: SheetPrimitive.Close.Props) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />
}

function SheetPortal({ ...props }: SheetPrimitive.Portal.Props) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />
}

function SheetOverlay({ className, ...props }: SheetPrimitive.Backdrop.Props) {
  return (
    <SheetPrimitive.Backdrop
      data-slot="sheet-overlay"
      className={cn("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 data-ending-style:opacity-0 data-starting-style:opacity-0 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 z-50", className)}
      {...props}
    />
  )
}

function SheetContent({
  className,
  children,
  side = "right",
  showCloseButton = true,
  ...props
}: SheetPrimitive.Popup.Props & {
  side?: "top" | "right" | "bottom" | "left"
  showCloseButton?: boolean
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Popup
        data-slot="sheet-content"
        data-side={side}
        className={cn("bg-background data-open:animate-in data-closed:animate-out data-[side=right]:data-closed:slide-out-to-right-10 data-[side=right]:data-open:slide-in-from-right-10 data-[side=left]:data-closed:slide-out-to-left-10 data-[side=left]:data-open:slide-in-from-left-10 data-[side=top]:data-closed:slide-out-to-top-10 data-[side=top]:data-open:slide-in-from-top-10 data-closed:fade-out-0 data-open:fade-in-0 data-[side=bottom]:data-closed:slide-out-to-bottom-10 data-[side=bottom]:data-open:slide-in-from-bottom-10 fixed z-50 flex flex-col gap-4 bg-clip-padding text-sm shadow-lg transition duration-200 ease-in-out data-[side=bottom]:inset-x-0 data-[side=bottom]:bottom-0 data-[side=bottom]:h-auto data-[side=bottom]:border-t data-[side=left]:inset-y-0 data-[side=left]:left-0 data-[side=left]:h-full data-[side=left]:w-3/4 data-[side=left]:border-r data-[side=right]:inset-y-0 data-[side=right]:right-0 data-[side=right]:h-full data-[side=right]:w-3/4 data-[side=right]:border-l data-[side=top]:inset-x-0 data-[side=top]:top-0 data-[side=top]:h-auto data-[side=top]:border-b data-[side=left]:sm:max-w-sm data-[side=right]:sm:max-w-sm", className)}
        {...props}
      >
        {children}
        {showCloseButton && (
          <SheetPrimitive.Close
            data-slot="sheet-close"
            render={
              <Button
                variant="ghost"
                className="absolute top-4 right-4"
                size="icon-sm"
              />
            }
          >
            <XIcon
            />
            <span className="sr-only">Close</span>
          </SheetPrimitive.Close>
        )}
      </SheetPrimitive.Popup>
    </SheetPortal>
  )
}

function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("gap-1.5 p-4 flex flex-col", className)}
      {...props}
    />
  )
}

function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("gap-2 p-4 mt-auto flex flex-col", className)}
      {...props}
    />
  )
}

function SheetTitle({ className, ...props }: SheetPrimitive.Title.Props) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn("text-foreground font-medium", className)}
      {...props}
    />
  )
}

function SheetDescription({
  className,
  ...props
}: SheetPrimitive.Description.Props) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
</file>

<file path="components/ui/sidebar.tsx">
"use client"

import * as React from "react"
import { mergeProps } from "@base-ui/react/merge-props"
import { useRender } from "@base-ui/react/use-render"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipTrigger,
} from "@/components/ui/tooltip"
import { useIsMobile } from "@/hooks/use-mobile"
import { PanelLeftIcon } from "lucide-react"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContextProps = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContextProps | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  defaultOpen?: boolean
  open?: boolean
  onOpenChange?: (open: boolean) => void
}) {
  const isMobile = useIsMobile()
  const [openMobile, setOpenMobile] = React.useState(false)

  // This is the internal state of the sidebar.
  // We use openProp and setOpenProp for control from outside the component.
  const [_open, _setOpen] = React.useState(defaultOpen)
  const open = openProp ?? _open
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value
      if (setOpenProp) {
        setOpenProp(openState)
      } else {
        _setOpen(openState)
      }

      // This sets the cookie to keep the sidebar state.
      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
    },
    [setOpenProp, open]
  )

  // Helper to toggle the sidebar.
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)
  }, [isMobile, setOpen, setOpenMobile])

  // Adds a keyboard shortcut to toggle the sidebar.
  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault()
        toggleSidebar()
      }
    }

    window.addEventListener("keydown", handleKeyDown)
    return () => window.removeEventListener("keydown", handleKeyDown)
  }, [toggleSidebar])

  // We add a state so that we can do data-state="expanded" or "collapsed".
  // This makes it easier to style the sidebar with Tailwind classes.
  const state = open ? "expanded" : "collapsed"

  const contextValue = React.useMemo<SidebarContextProps>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
  )

  return (
    <SidebarContext.Provider value={contextValue}>
      <div
        data-slot="sidebar-wrapper"
        style={
          {
            "--sidebar-width": SIDEBAR_WIDTH,
            "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
            ...style,
          } as React.CSSProperties
        }
        className={cn(
          "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",
          className
        )}
        {...props}
      >
        {children}
      </div>
    </SidebarContext.Provider>
  )
}

function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  className,
  children,
  dir,
  ...props
}: React.ComponentProps<"div"> & {
  side?: "left" | "right"
  variant?: "sidebar" | "floating" | "inset"
  collapsible?: "offcanvas" | "icon" | "none"
}) {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className
        )}
        {...props}
      >
        {children}
      </div>
    )
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          dir={dir}
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    )
  }

  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar"
    >
      {/* This is what handles the sidebar gap on desktop */}
      <div
        data-slot="sidebar-gap"
        className={cn(
          "transition-[width] duration-200 ease-linear relative w-(--sidebar-width) bg-transparent",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)"
        )}
      />
      <div
        data-slot="sidebar-container"
        data-side={side}
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear data-[side=left]:left-0 data-[side=left]:group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] data-[side=right]:right-0 data-[side=right]:group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)] md:flex",
          // Adjust the padding for floating and inset variants.
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:ring-sidebar-border group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:shadow-sm group-data-[variant=floating]:ring-1 flex size-full flex-col"
        >
          {children}
        </div>
      </div>
    </div>
  )
}

function SidebarTrigger({
  className,
  onClick,
  ...props
}: React.ComponentProps<typeof Button>) {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon-sm"
      className={cn(className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeftIcon />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
}

function SidebarRail({ className, ...props }: React.ComponentProps<"button">) {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:start-1/2 after:w-[2px] sm:flex ltr:-translate-x-1/2 rtl:-translate-x-1/2",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInset({ className, ...props }: React.ComponentProps<"main">) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2 relative flex w-full flex-1 flex-col",
        className
      )}
      {...props}
    />
  )
}

function SidebarInput({
  className,
  ...props
}: React.ComponentProps<typeof Input>) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props}
    />
  )
}

function SidebarHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("gap-2 p-2 flex flex-col", className)}
      {...props}
    />
  )
}

function SidebarFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("gap-2 p-2 flex flex-col", className)}
      {...props}
    />
  )
}

function SidebarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof Separator>) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props}
    />
  )
}

function SidebarContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "no-scrollbar gap-2 flex min-h-0 flex-1 flex-col overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn(
        "p-2 relative flex w-full min-w-0 flex-col",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupLabel({
  className,
  render,
  ...props
}: useRender.ComponentProps<"div"> & React.ComponentProps<"div">) {
  return useRender({
    defaultTagName: "div",
    props: mergeProps<"div">(
      {
        className: cn(
          "text-sidebar-foreground/70 ring-sidebar-ring h-8 rounded-md px-2 text-xs font-medium transition-[margin,opacity] duration-200 ease-linear group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 focus-visible:ring-2 [&>svg]:size-4 flex shrink-0 items-center outline-hidden [&>svg]:shrink-0",
          className
        ),
      },
      props
    ),
    render,
    state: {
      slot: "sidebar-group-label",
      sidebar: "group-label",
    },
  })
}

function SidebarGroupAction({
  className,
  render,
  ...props
}: useRender.ComponentProps<"button"> & React.ComponentProps<"button">) {
  return useRender({
    defaultTagName: "button",
    props: mergeProps<"button">(
      {
        className: cn(
          "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 w-5 rounded-md p-0 focus-visible:ring-2 [&>svg]:size-4 flex aspect-square items-center justify-center outline-hidden transition-transform [&>svg]:shrink-0 after:absolute after:-inset-2 md:after:hidden group-data-[collapsible=icon]:hidden",
          className
        ),
      },
      props
    ),
    render,
    state: {
      slot: "sidebar-group-action",
      sidebar: "group-action",
    },
  })
}

function SidebarGroupContent({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("text-sm w-full", className)}
      {...props}
    />
  )
}

function SidebarMenu({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("gap-1 flex w-full min-w-0 flex-col", className)}
      {...props}
    />
  )
}

function SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props}
    />
  )
}

const sidebarMenuButtonVariants = cva(
  "ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground data-active:bg-sidebar-accent data-active:text-sidebar-accent-foreground data-open:hover:bg-sidebar-accent data-open:hover:text-sidebar-accent-foreground gap-2 rounded-md p-2 text-left text-sm transition-[width,height,padding] group-has-data-[sidebar=menu-action]/menu-item:pr-8 group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! focus-visible:ring-2 data-active:font-medium peer/menu-button flex w-full items-center overflow-hidden outline-hidden group/menu-button disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline: "bg-background hover:bg-sidebar-accent hover:text-sidebar-accent-foreground shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function SidebarMenuButton({
  render,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}: useRender.ComponentProps<"button"> &
  React.ComponentProps<"button"> & {
    isActive?: boolean
    tooltip?: string | React.ComponentProps<typeof TooltipContent>
  } & VariantProps<typeof sidebarMenuButtonVariants>) {
  const { isMobile, state } = useSidebar()
  const comp = useRender({
    defaultTagName: "button",
    props: mergeProps<"button">(
      {
        className: cn(sidebarMenuButtonVariants({ variant, size }), className),
      },
      props
    ),
    render: !tooltip ? render : TooltipTrigger,
    state: {
      slot: "sidebar-menu-button",
      sidebar: "menu-button",
      size,
      active: isActive,
    },
  })

  if (!tooltip) {
    return comp
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    }
  }

  return (
    <Tooltip>
      {comp}
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip}
      />
    </Tooltip>
  )
}

function SidebarMenuAction({
  className,
  render,
  showOnHover = false,
  ...props
}: useRender.ComponentProps<"button"> &
  React.ComponentProps<"button"> & {
    showOnHover?: boolean
  }) {
  return useRender({
    defaultTagName: "button",
    props: mergeProps<"button">(
      {
        className: cn(
          "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 aspect-square w-5 rounded-md p-0 peer-data-[size=default]/menu-button:top-1.5 peer-data-[size=lg]/menu-button:top-2.5 peer-data-[size=sm]/menu-button:top-1 focus-visible:ring-2 [&>svg]:size-4 flex items-center justify-center outline-hidden transition-transform group-data-[collapsible=icon]:hidden after:absolute after:-inset-2 md:after:hidden [&>svg]:shrink-0",
          showOnHover &&
            "peer-data-active/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-open:opacity-100 md:opacity-0",
          className
        ),
      },
      props
    ),
    render,
    state: {
      slot: "sidebar-menu-action",
      sidebar: "menu-action",
    },
  })
}

function SidebarMenuBadge({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground peer-hover/menu-button:text-sidebar-accent-foreground peer-data-active/menu-button:text-sidebar-accent-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 rounded-md px-1 text-xs font-medium peer-data-[size=default]/menu-button:top-1.5 peer-data-[size=lg]/menu-button:top-2.5 peer-data-[size=sm]/menu-button:top-1 flex items-center justify-center tabular-nums select-none group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}: React.ComponentProps<"div"> & {
  showIcon?: boolean
}) {
  // Random width between 50 to 90%.
  const [width] = React.useState(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  })

  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("h-8 gap-2 rounded-md px-2 flex items-center", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
}

function SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn("border-sidebar-border mx-3.5 translate-x-px gap-1 border-l px-2.5 py-0.5 group-data-[collapsible=icon]:hidden flex min-w-0 flex-col", className)}
      {...props}
    />
  )
}

function SidebarMenuSubItem({
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props}
    />
  )
}

function SidebarMenuSubButton({
  render,
  size = "md",
  isActive = false,
  className,
  ...props
}: useRender.ComponentProps<"a"> &
  React.ComponentProps<"a"> & {
    size?: "sm" | "md"
    isActive?: boolean
  }) {
  return useRender({
    defaultTagName: "a",
    props: mergeProps<"a">(
      {
        className: cn(
          "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground data-active:bg-sidebar-accent data-active:text-sidebar-accent-foreground h-7 gap-2 rounded-md px-2 focus-visible:ring-2 data-[size=md]:text-sm data-[size=sm]:text-xs [&>svg]:size-4 flex min-w-0 -translate-x-px items-center overflow-hidden outline-hidden group-data-[collapsible=icon]:hidden disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:shrink-0",
          className
        ),
      },
      props
    ),
    render,
    state: {
      slot: "sidebar-menu-sub-button",
      sidebar: "menu-sub-button",
      size,
      active: isActive,
    },
  })
}

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</file>

<file path="components/ui/skeleton.tsx">
import { cn } from "@/lib/utils"

function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-muted rounded-md animate-pulse", className)}
      {...props}
    />
  )
}

export { Skeleton }
</file>

<file path="components/ui/table.tsx">
"use client"

import * as React from "react"

import { cn } from "@/lib/utils"

function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div data-slot="table-container" className="relative w-full overflow-x-auto">
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  )
}

function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  )
}

function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  )
}

function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0", className)}
      {...props}
    />
  )
}

function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors", className)}
      {...props}
    />
  )
}

function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0", className)}
      {...props}
    />
  )
}

function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0", className)}
      {...props}
    />
  )
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  )
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="components/ui/textarea.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Textarea({ className, ...props }: React.ComponentProps<"textarea">) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        "border-input dark:bg-input/30 focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 rounded-md border bg-transparent px-2.5 py-2 text-base shadow-xs transition-[color,box-shadow] focus-visible:ring-[3px] aria-invalid:ring-[3px] md:text-sm placeholder:text-muted-foreground flex field-sizing-content min-h-16 w-full outline-none disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export { Textarea }
</file>

<file path="components/ui/toggle-group.tsx">
"use client"

import * as React from "react"
import { Toggle as TogglePrimitive } from "@base-ui/react/toggle"
import { ToggleGroup as ToggleGroupPrimitive } from "@base-ui/react/toggle-group"
import { type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { toggleVariants } from "@/components/ui/toggle"

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants> & {
    spacing?: number
    orientation?: "horizontal" | "vertical"
  }
>({
  size: "default",
  variant: "default",
  spacing: 0,
  orientation: "horizontal",
})

function ToggleGroup({
  className,
  variant,
  size,
  spacing = 0,
  orientation = "horizontal",
  children,
  ...props
}: ToggleGroupPrimitive.Props &
  VariantProps<typeof toggleVariants> & {
    spacing?: number
    orientation?: "horizontal" | "vertical"
  }) {
  return (
    <ToggleGroupPrimitive
      data-slot="toggle-group"
      data-variant={variant}
      data-size={size}
      data-spacing={spacing}
      data-orientation={orientation}
      style={{ "--gap": spacing } as React.CSSProperties}
      className={cn(
        "rounded-md data-[spacing=0]:data-[variant=outline]:shadow-xs group/toggle-group flex w-fit flex-row items-center gap-[--spacing(var(--gap))] data-[orientation=vertical]:flex-col data-[orientation=vertical]:items-stretch",
        className
      )}
      {...props}
    >
      <ToggleGroupContext.Provider
        value={{ variant, size, spacing, orientation }}
      >
        {children}
      </ToggleGroupContext.Provider>
    </ToggleGroupPrimitive>
  )
}

function ToggleGroupItem({
  className,
  children,
  variant = "default",
  size = "default",
  ...props
}: TogglePrimitive.Props & VariantProps<typeof toggleVariants>) {
  const context = React.useContext(ToggleGroupContext)

  return (
    <TogglePrimitive
      data-slot="toggle-group-item"
      data-variant={context.variant || variant}
      data-size={context.size || size}
      data-spacing={context.spacing}
      className={cn(
        "data-[state=on]:bg-muted group-data-[spacing=0]/toggle-group:rounded-none group-data-[spacing=0]/toggle-group:px-2 group-data-[spacing=0]/toggle-group:shadow-none group-data-horizontal/toggle-group:data-[spacing=0]:first:rounded-l-md group-data-vertical/toggle-group:data-[spacing=0]:first:rounded-t-md group-data-horizontal/toggle-group:data-[spacing=0]:last:rounded-r-md group-data-vertical/toggle-group:data-[spacing=0]:last:rounded-b-md shrink-0 focus:z-10 focus-visible:z-10 group-data-horizontal/toggle-group:data-[spacing=0]:data-[variant=outline]:border-l-0 group-data-vertical/toggle-group:data-[spacing=0]:data-[variant=outline]:border-t-0 group-data-horizontal/toggle-group:data-[spacing=0]:data-[variant=outline]:first:border-l group-data-vertical/toggle-group:data-[spacing=0]:data-[variant=outline]:first:border-t",
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        className
      )}
      {...props}
    >
      {children}
    </TogglePrimitive>
  )
}

export { ToggleGroup, ToggleGroupItem }
</file>

<file path="components/ui/toggle.tsx">
"use client"

import { Toggle as TogglePrimitive } from "@base-ui/react/toggle"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const toggleVariants = cva(
  "hover:text-foreground aria-pressed:bg-muted focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive gap-1 rounded-md text-sm font-medium transition-[color,box-shadow] [&_svg:not([class*='size-'])]:size-4 group/toggle hover:bg-muted inline-flex items-center justify-center whitespace-nowrap outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline: "border-input hover:bg-muted border bg-transparent shadow-xs",
      },
      size: {
        default: "h-9 min-w-9 px-2",
        sm: "h-8 min-w-8 px-1.5",
        lg: "h-10 min-w-10 px-2.5",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Toggle({
  className,
  variant = "default",
  size = "default",
  ...props
}: TogglePrimitive.Props & VariantProps<typeof toggleVariants>) {
  return (
    <TogglePrimitive
      data-slot="toggle"
      className={cn(toggleVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Toggle, toggleVariants }
</file>

<file path="components/ui/tooltip.tsx">
"use client"

import { Tooltip as TooltipPrimitive } from "@base-ui/react/tooltip"

import { cn } from "@/lib/utils"

function TooltipProvider({
  delay = 0,
  ...props
}: TooltipPrimitive.Provider.Props) {
  return (
    <TooltipPrimitive.Provider
      data-slot="tooltip-provider"
      delay={delay}
      {...props}
    />
  )
}

function Tooltip({ ...props }: TooltipPrimitive.Root.Props) {
  return (
    <TooltipProvider>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  )
}

function TooltipTrigger({ ...props }: TooltipPrimitive.Trigger.Props) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />
}

function TooltipContent({
  className,
  side = "top",
  sideOffset = 4,
  align = "center",
  alignOffset = 0,
  children,
  ...props
}: TooltipPrimitive.Popup.Props &
  Pick<
    TooltipPrimitive.Positioner.Props,
    "align" | "alignOffset" | "side" | "sideOffset"
  >) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Positioner
        align={align}
        alignOffset={alignOffset}
        side={side}
        sideOffset={sideOffset}
        className="isolate z-50"
      >
        <TooltipPrimitive.Popup
          data-slot="tooltip-content"
          className={cn(
            "data-open:animate-in data-open:fade-in-0 data-open:zoom-in-95 data-[state=delayed-open]:animate-in data-[state=delayed-open]:fade-in-0 data-[state=delayed-open]:zoom-in-95 data-closed:animate-out data-closed:fade-out-0 data-closed:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 rounded-md px-3 py-1.5 text-xs data-[side=inline-start]:slide-in-from-right-2 data-[side=inline-end]:slide-in-from-left-2 bg-foreground text-background z-50 w-fit max-w-xs origin-(--transform-origin)",
            className
          )}
          {...props}
        >
          {children}
          <TooltipPrimitive.Arrow className="size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] data-[side=inline-end]:top-1/2! data-[side=inline-end]:-left-1 data-[side=inline-end]:-translate-y-1/2 data-[side=inline-start]:top-1/2! data-[side=inline-start]:-right-1 data-[side=inline-start]:-translate-y-1/2 bg-foreground fill-foreground z-50 data-[side=bottom]:top-1 data-[side=left]:top-1/2! data-[side=left]:-right-1 data-[side=left]:-translate-y-1/2 data-[side=right]:top-1/2! data-[side=right]:-left-1 data-[side=right]:-translate-y-1/2 data-[side=top]:-bottom-2.5" />
        </TooltipPrimitive.Popup>
      </TooltipPrimitive.Positioner>
    </TooltipPrimitive.Portal>
  )
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</file>

<file path="components/component-example.tsx">
"use client"

import * as React from "react"
import { useTheme } from "next-themes"

import {
  Example,
  ExampleWrapper,
} from "@/components/example"
import { ThemeToggle } from "@/components/theme-toggle"
import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogMedia,
  AlertDialogTitle,
  AlertDialogTrigger,
} from "@/components/ui/alert-dialog"
import { Badge } from "@/components/ui/badge"
import { Button } from "@/components/ui/button"
import {
  Card,
  CardAction,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card"
import {
  Combobox,
  ComboboxContent,
  ComboboxEmpty,
  ComboboxInput,
  ComboboxItem,
  ComboboxList,
} from "@/components/ui/combobox"
import {
  DropdownMenu,
  DropdownMenuCheckboxItem,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuPortal,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu"
import { Field, FieldGroup, FieldLabel } from "@/components/ui/field"
import { Input } from "@/components/ui/input"
import {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select"
import { Textarea } from "@/components/ui/textarea"
import { PlusIcon, BluetoothIcon, MoreVerticalIcon, FileIcon, FolderIcon, FolderOpenIcon, FileCodeIcon, MoreHorizontalIcon, FolderSearchIcon, SaveIcon, DownloadIcon, EyeIcon, LayoutIcon, PaletteIcon, SunIcon, MoonIcon, MonitorIcon, UserIcon, CreditCardIcon, SettingsIcon, KeyboardIcon, LanguagesIcon, BellIcon, MailIcon, ShieldIcon, HelpCircleIcon, FileTextIcon, LogOutIcon } from "lucide-react"

export function ComponentExample() {
  return (
    <div className="relative">
      <div className="fixed top-4 right-4 z-50">
        <ThemeToggle />
      </div>
      <ExampleWrapper>
        <CardExample />
        <FormExample />
      </ExampleWrapper>
    </div>
  )
}

function CardExample() {
  return (
    <Example title="Card" className="items-center justify-center">
      <Card className="relative w-full max-w-sm overflow-hidden pt-0">
        <div className="bg-primary absolute inset-0 z-30 aspect-video opacity-50 mix-blend-color" />
        <img
          src="https://images.unsplash.com/photo-1604076850742-4c7221f3101b?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
          alt="Photo by mymind on Unsplash"
          title="Photo by mymind on Unsplash"
          className="relative z-20 aspect-video w-full object-cover brightness-60 grayscale"
        />
        <CardHeader>
          <CardTitle>Observability Plus is replacing Monitoring</CardTitle>
          <CardDescription>
            Switch to the improved way to explore your data, with natural
            language. Monitoring will no longer be available on the Pro plan in
            November, 2025
          </CardDescription>
        </CardHeader>
        <CardFooter>
          <AlertDialog>
            <AlertDialogTrigger render={<Button />}>
              <PlusIcon data-icon="inline-start" />
              Show Dialog
            </AlertDialogTrigger>
            <AlertDialogContent size="sm">
              <AlertDialogHeader>
                <AlertDialogMedia>
                  <BluetoothIcon
                  />
                </AlertDialogMedia>
                <AlertDialogTitle>Allow accessory to connect?</AlertDialogTitle>
                <AlertDialogDescription>
                  Do you want to allow the USB accessory to connect to this
                  device?
                </AlertDialogDescription>
              </AlertDialogHeader>
              <AlertDialogFooter>
                <AlertDialogCancel>Don&apos;t allow</AlertDialogCancel>
                <AlertDialogAction>Allow</AlertDialogAction>
              </AlertDialogFooter>
            </AlertDialogContent>
          </AlertDialog>
          <Badge variant="secondary" className="ml-auto">
            Warning
          </Badge>
        </CardFooter>
      </Card>
    </Example>
  )
}

const frameworks = [
  "Next.js",
  "SvelteKit",
  "Nuxt.js",
  "Remix",
  "Astro",
] as const

const roleItems = [
  { label: "Developer", value: "developer" },
  { label: "Designer", value: "designer" },
  { label: "Manager", value: "manager" },
  { label: "Other", value: "other" },
]

function FormExample() {
  const [notifications, setNotifications] = React.useState({
    email: true,
    sms: false,
    push: true,
  })
  const { theme, setTheme } = useTheme()

  return (
    <Example title="Form">
      <Card className="w-full max-w-md">
        <CardHeader>
          <CardTitle>User Information</CardTitle>
          <CardDescription>Please fill in your details below</CardDescription>
          <CardAction>
            <DropdownMenu>
              <DropdownMenuTrigger
                render={<Button variant="ghost" size="icon" />}
              >
                <MoreVerticalIcon
                />
                <span className="sr-only">More options</span>
              </DropdownMenuTrigger>
              <DropdownMenuContent align="end" className="w-56">
                <DropdownMenuGroup>
                  <DropdownMenuLabel>File</DropdownMenuLabel>
                  <DropdownMenuItem>
                    <FileIcon
                    />
                    New File
                    <DropdownMenuShortcut>âŒ˜N</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <FolderIcon
                    />
                    New Folder
                    <DropdownMenuShortcut>â‡§âŒ˜N</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuSub>
                    <DropdownMenuSubTrigger>
                      <FolderOpenIcon
                      />
                      Open Recent
                    </DropdownMenuSubTrigger>
                    <DropdownMenuPortal>
                      <DropdownMenuSubContent>
                        <DropdownMenuGroup>
                          <DropdownMenuLabel>Recent Projects</DropdownMenuLabel>
                          <DropdownMenuItem>
                            <FileCodeIcon
                            />
                            Project Alpha
                          </DropdownMenuItem>
                          <DropdownMenuItem>
                            <FileCodeIcon
                            />
                            Project Beta
                          </DropdownMenuItem>
                          <DropdownMenuSub>
                            <DropdownMenuSubTrigger>
                              <MoreHorizontalIcon
                              />
                              More Projects
                            </DropdownMenuSubTrigger>
                            <DropdownMenuPortal>
                              <DropdownMenuSubContent>
                                <DropdownMenuItem>
                                  <FileCodeIcon
                                  />
                                  Project Gamma
                                </DropdownMenuItem>
                                <DropdownMenuItem>
                                  <FileCodeIcon
                                  />
                                  Project Delta
                                </DropdownMenuItem>
                              </DropdownMenuSubContent>
                            </DropdownMenuPortal>
                          </DropdownMenuSub>
                        </DropdownMenuGroup>
                        <DropdownMenuSeparator />
                        <DropdownMenuGroup>
                          <DropdownMenuItem>
                            <FolderSearchIcon
                            />
                            Browse...
                          </DropdownMenuItem>
                        </DropdownMenuGroup>
                      </DropdownMenuSubContent>
                    </DropdownMenuPortal>
                  </DropdownMenuSub>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <SaveIcon
                    />
                    Save
                    <DropdownMenuShortcut>âŒ˜S</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <DownloadIcon
                    />
                    Export
                    <DropdownMenuShortcut>â‡§âŒ˜E</DropdownMenuShortcut>
                  </DropdownMenuItem>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuGroup>
                  <DropdownMenuLabel>View</DropdownMenuLabel>
                  <DropdownMenuCheckboxItem
                    checked={notifications.email}
                    onCheckedChange={(checked) =>
                      setNotifications({
                        ...notifications,
                        email: checked === true,
                      })
                    }
                  >
                    <EyeIcon
                    />
                    Show Sidebar
                  </DropdownMenuCheckboxItem>
                  <DropdownMenuCheckboxItem
                    checked={notifications.sms}
                    onCheckedChange={(checked) =>
                      setNotifications({
                        ...notifications,
                        sms: checked === true,
                      })
                    }
                  >
                    <LayoutIcon
                    />
                    Show Status Bar
                  </DropdownMenuCheckboxItem>
                  <DropdownMenuSub>
                    <DropdownMenuSubTrigger>
                      <PaletteIcon
                      />
                      Theme
                    </DropdownMenuSubTrigger>
                    <DropdownMenuPortal>
                      <DropdownMenuSubContent>
                        <DropdownMenuGroup>
                          <DropdownMenuLabel>Appearance</DropdownMenuLabel>
                          <DropdownMenuRadioGroup
                            value={theme}
                            onValueChange={setTheme}
                          >
                            <DropdownMenuRadioItem value="light">
                              <SunIcon
                              />
                              Light
                            </DropdownMenuRadioItem>
                            <DropdownMenuRadioItem value="dark">
                              <MoonIcon
                              />
                              Dark
                            </DropdownMenuRadioItem>
                            <DropdownMenuRadioItem value="system">
                              <MonitorIcon
                              />
                              System
                            </DropdownMenuRadioItem>
                          </DropdownMenuRadioGroup>
                        </DropdownMenuGroup>
                      </DropdownMenuSubContent>
                    </DropdownMenuPortal>
                  </DropdownMenuSub>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuGroup>
                  <DropdownMenuLabel>Account</DropdownMenuLabel>
                  <DropdownMenuItem>
                    <UserIcon
                    />
                    Profile
                    <DropdownMenuShortcut>â‡§âŒ˜P</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <CreditCardIcon
                    />
                    Billing
                  </DropdownMenuItem>
                  <DropdownMenuSub>
                    <DropdownMenuSubTrigger>
                      <SettingsIcon
                      />
                      Settings
                    </DropdownMenuSubTrigger>
                    <DropdownMenuPortal>
                      <DropdownMenuSubContent>
                        <DropdownMenuGroup>
                          <DropdownMenuLabel>Preferences</DropdownMenuLabel>
                          <DropdownMenuItem>
                            <KeyboardIcon
                            />
                            Keyboard Shortcuts
                          </DropdownMenuItem>
                          <DropdownMenuItem>
                            <LanguagesIcon
                            />
                            Language
                          </DropdownMenuItem>
                          <DropdownMenuSub>
                            <DropdownMenuSubTrigger>
                              <BellIcon
                              />
                              Notifications
                            </DropdownMenuSubTrigger>
                            <DropdownMenuPortal>
                              <DropdownMenuSubContent>
                                <DropdownMenuGroup>
                                  <DropdownMenuLabel>
                                    Notification Types
                                  </DropdownMenuLabel>
                                  <DropdownMenuCheckboxItem
                                    checked={notifications.push}
                                    onCheckedChange={(checked) =>
                                      setNotifications({
                                        ...notifications,
                                        push: checked === true,
                                      })
                                    }
                                  >
                                    <BellIcon
                                    />
                                    Push Notifications
                                  </DropdownMenuCheckboxItem>
                                  <DropdownMenuCheckboxItem
                                    checked={notifications.email}
                                    onCheckedChange={(checked) =>
                                      setNotifications({
                                        ...notifications,
                                        email: checked === true,
                                      })
                                    }
                                  >
                                    <MailIcon
                                    />
                                    Email Notifications
                                  </DropdownMenuCheckboxItem>
                                </DropdownMenuGroup>
                              </DropdownMenuSubContent>
                            </DropdownMenuPortal>
                          </DropdownMenuSub>
                        </DropdownMenuGroup>
                        <DropdownMenuSeparator />
                        <DropdownMenuGroup>
                          <DropdownMenuItem>
                            <ShieldIcon
                            />
                            Privacy & Security
                          </DropdownMenuItem>
                        </DropdownMenuGroup>
                      </DropdownMenuSubContent>
                    </DropdownMenuPortal>
                  </DropdownMenuSub>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuGroup>
                  <DropdownMenuItem>
                    <HelpCircleIcon
                    />
                    Help & Support
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <FileTextIcon
                    />
                    Documentation
                  </DropdownMenuItem>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuGroup>
                  <DropdownMenuItem variant="destructive">
                    <LogOutIcon
                    />
                    Sign Out
                    <DropdownMenuShortcut>â‡§âŒ˜Q</DropdownMenuShortcut>
                  </DropdownMenuItem>
                </DropdownMenuGroup>
              </DropdownMenuContent>
            </DropdownMenu>
          </CardAction>
        </CardHeader>
        <CardContent>
          <form>
            <FieldGroup>
              <div className="grid grid-cols-2 gap-4">
                <Field>
                  <FieldLabel htmlFor="small-form-name">Name</FieldLabel>
                  <Input
                    id="small-form-name"
                    placeholder="Enter your name"
                    required
                  />
                </Field>
                <Field>
                  <FieldLabel htmlFor="small-form-role">Role</FieldLabel>
                  <Select items={roleItems} defaultValue={null}>
                    <SelectTrigger id="small-form-role">
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectGroup>
                        {roleItems.map((item) => (
                          <SelectItem key={item.value} value={item.value}>
                            {item.label}
                          </SelectItem>
                        ))}
                      </SelectGroup>
                    </SelectContent>
                  </Select>
                </Field>
              </div>
              <Field>
                <FieldLabel htmlFor="small-form-framework">
                  Framework
                </FieldLabel>
                <Combobox items={frameworks}>
                  <ComboboxInput
                    id="small-form-framework"
                    placeholder="Select a framework"
                    required
                  />
                  <ComboboxContent>
                    <ComboboxEmpty>No frameworks found.</ComboboxEmpty>
                    <ComboboxList>
                      {(item) => (
                        <ComboboxItem key={item} value={item}>
                          {item}
                        </ComboboxItem>
                      )}
                    </ComboboxList>
                  </ComboboxContent>
                </Combobox>
              </Field>
              <Field>
                <FieldLabel htmlFor="small-form-comments">Comments</FieldLabel>
                <Textarea
                  id="small-form-comments"
                  placeholder="Add any additional comments"
                />
              </Field>
              <Field orientation="horizontal">
                <Button type="submit">Submit</Button>
                <Button variant="outline" type="button">
                  Cancel
                </Button>
              </Field>
            </FieldGroup>
          </form>
        </CardContent>
      </Card>
    </Example>
  )
}
</file>

<file path="components/example.tsx">
import { cn } from "@/lib/utils"

function ExampleWrapper({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div className="bg-background w-full">
      <div
        data-slot="example-wrapper"
        className={cn(
          "mx-auto grid min-h-screen w-full max-w-5xl min-w-0 content-center items-start gap-8 p-4 pt-2 sm:gap-12 sm:p-6 md:grid-cols-2 md:gap-8 lg:p-12 2xl:max-w-6xl",

          className
        )}
        {...props}
      />
    </div>
  )
}

function Example({
  title,
  children,
  className,
  containerClassName,
  ...props
}: React.ComponentProps<"div"> & {
  title?: string
  containerClassName?: string
}) {
  return (
    <div
      data-slot="example"
      className={cn(
        "mx-auto flex w-full max-w-lg min-w-0 flex-col gap-1 self-stretch lg:max-w-none",
        containerClassName
      )}
      {...props}
    >
      {title && (
        <div className="text-muted-foreground px-1.5 py-2 text-xs font-medium">
          {title}
        </div>
      )}
      <div
        data-slot="example-content"
        className={cn(
          "bg-background text-foreground flex min-w-0 flex-1 flex-col items-start gap-6 border border-dashed p-4 sm:p-6 *:[div:not([class*='w-'])]:w-full",
          className
        )}
      >
        {children}
      </div>
    </div>
  )
}

export { ExampleWrapper, Example }
</file>

<file path="components/theme-provider.tsx">
"use client"

import * as React from "react"
import { ThemeProvider as NextThemesProvider } from "next-themes"

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}
</file>

<file path="components/theme-toggle.tsx">
"use client"

import * as React from "react"
import { MoonIcon, SunIcon } from "lucide-react"
import { useTheme } from "next-themes"

import { Button } from "@/components/ui/button"

export function ThemeToggle() {
  const { theme, setTheme } = useTheme()
  const [mounted, setMounted] = React.useState(false)

  React.useEffect(() => {
    setMounted(true)
  }, [])

  if (!mounted) {
    return (
      <Button variant="ghost" size="icon">
        <SunIcon className="h-[1.2rem] w-[1.2rem]" />
      </Button>
    )
  }

  return (
    <Button
      variant="ghost"
      size="icon"
      onClick={() => setTheme(theme === "dark" ? "light" : "dark")}
    >
      {theme === "dark" ? (
        <SunIcon className="h-[1.2rem] w-[1.2rem]" />
      ) : (
        <MoonIcon className="h-[1.2rem] w-[1.2rem]" />
      )}
      <span className="sr-only">Toggle theme</span>
    </Button>
  )
}
</file>

<file path="docs/.pdca-snapshots/snapshot-1769934115304.json">
{
  "timestamp": "2026-02-01T08:21:55.303Z",
  "reason": "compaction",
  "status": {
    "version": "2.0",
    "lastUpdated": "2026-02-01T01:58:37.404Z",
    "activeFeatures": [],
    "primaryFeature": null,
    "features": {},
    "pipeline": {
      "currentPhase": 1,
      "level": "Dynamic",
      "phaseHistory": []
    },
    "session": {
      "startedAt": "2026-02-01T01:58:37.404Z",
      "onboardingCompleted": false,
      "lastActivity": "2026-02-01T01:58:37.404Z"
    },
    "history": []
  }
}
</file>

<file path="docs/01-plan/features/ai-saas-dashboard.plan.md">
# AI SaaS Dashboard - ê°œë°œ ê³„íšì„œ (Plan)

## ğŸ“‹ ë¬¸ì„œ ì •ë³´

- **í”„ë¡œì íŠ¸ëª…**: AI SaaS Dashboard
- **ë²„ì „**: v1.0.0
- **ì‘ì„±ì¼**: 2026-02-01
- **ìƒíƒœ**: ì™„ë£Œ (Completed)
- **PDCA Phase**: Plan â†’ Design â†’ Do â†’ Check

---

## ğŸ¯ 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ëª©ì 
AI ê¸°ë°˜ SaaS ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ í†µí•© ëŒ€ì‹œë³´ë“œ ì‹œìŠ¤í…œ êµ¬ì¶•. ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§, ë°ì´í„° ì‹œê°í™”, API ì‚¬ìš©ëŸ‰ ì¶”ì ì„ í†µí•´ ìš´ì˜ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•œë‹¤.

### 1.2 ëª©í‘œ
- **ì£¼ìš” ëª©í‘œ**:
  - ì‹¤ì‹œê°„ API í˜¸ì¶œ ë° í† í° ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
  - ì¸í„°ë™í‹°ë¸Œ ë°ì´í„° ì‹œê°í™” (ì°¨íŠ¸, í…Œì´ë¸”)
  - ë‹¤í¬ëª¨ë“œ ì§€ì› ë° ë°˜ì‘í˜• ë””ìì¸
  - ì‚¬ìš©ì ì¹œí™”ì ì¸ UI/UX

- **ì„±ê³¼ ì§€í‘œ**:
  - í˜ì´ì§€ ë¡œë”© ì‹œê°„ < 2ì´ˆ
  - ë‹¤í¬ëª¨ë“œ ì™„ì „ ì§€ì›
  - ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ë°˜ì‘í˜• 100%
  - TypeScript íƒ€ì… ì•ˆì •ì„± 100%

### 1.3 ë²”ìœ„
**í¬í•¨ì‚¬í•­**:
- âœ… ë©”íŠ¸ë¦­ ëŒ€ì‹œë³´ë“œ (4ê°œ í•µì‹¬ KPI)
- âœ… ì¸í„°ë™í‹°ë¸Œ Area Chart (7ì¼/30ì¼/3ê°œì›”)
- âœ… API ì‚¬ìš©ëŸ‰ ë°ì´í„° í…Œì´ë¸” (ë“œë˜ê·¸, ì²´í¬ë°•ìŠ¤)
- âœ… AI ëª¨ë¸ ì‚¬ìš©ëŸ‰ í†µê³„
- âœ… ìµœê·¼ í™œë™ í”¼ë“œ
- âœ… ë¹ ë¥¸ ì‘ì—… ë²„íŠ¼
- âœ… ë‹¤í¬ëª¨ë“œ í…Œë§ˆ ì‹œìŠ¤í…œ
- âœ… Sidebar ë„¤ë¹„ê²Œì´ì…˜

**ì œì™¸ì‚¬í•­**:
- âŒ ì‹¤ì œ API ì—°ë™ (Mock ë°ì´í„° ì‚¬ìš©)
- âŒ ì‚¬ìš©ì ì¸ì¦/ê¶Œí•œ ê´€ë¦¬
- âŒ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
- âŒ ë°±ì—”ë“œ ì„œë²„ êµ¬ì¶•
- âŒ ì‹¤ì‹œê°„ WebSocket ì—°ê²°

---

## ğŸ—ï¸ 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ê¸°ìˆ  ìŠ¤íƒ

#### Frontend Framework
```yaml
Framework: Next.js 16.1.6 (App Router)
Runtime: React 19.2.3
Language: TypeScript 5.x
```

#### UI/Styling
```yaml
UI Library: shadcn/ui (base-vega style)
Styling: Tailwind CSS v4
Theme: next-themes (ë‹¤í¬ëª¨ë“œ)
Icons: lucide-react
Charts: recharts 2.15.4
```

#### Development Tools
```yaml
Package Manager: pnpm
Linter: ESLint 9
Build Tool: Turbopack (Next.js 16)
```

### 2.2 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
shadcn-cluade/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx                 # Root layout (Theme Provider)
â”‚   â”œâ”€â”€ page.tsx                   # Home â†’ Dashboard redirect
â”‚   â””â”€â”€ dashboard/
â”‚       â”œâ”€â”€ layout.tsx             # Dashboard layout (Sidebar)
â”‚       â””â”€â”€ page.tsx               # Main dashboard page
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                        # shadcn/ui components (27ê°œ)
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ chart.tsx
â”‚   â”‚   â”œâ”€â”€ table.tsx
â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ app-sidebar.tsx        # AI SaaS navigation
â”‚   â”‚   â”œâ”€â”€ interactive-area-chart.tsx
â”‚   â”‚   â””â”€â”€ api-usage-table.tsx
â”‚   â”œâ”€â”€ theme-provider.tsx
â”‚   â””â”€â”€ theme-toggle.tsx
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ use-mobile.tsx             # Mobile detection hook
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ utils.ts                   # Utility functions
â””â”€â”€ docs/
    â”œâ”€â”€ 01-plan/
    â”œâ”€â”€ 02-design/
    â”œâ”€â”€ 03-check/
    â””â”€â”€ 04-report/
```

### 2.3 ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

```
RootLayout (ThemeProvider)
  â””â”€â”€ DashboardLayout (SidebarProvider)
      â”œâ”€â”€ AppSidebar
      â”‚   â”œâ”€â”€ Branding
      â”‚   â”œâ”€â”€ Navigation (9 items)
      â”‚   â””â”€â”€ User Profile
      â””â”€â”€ DashboardPage
          â”œâ”€â”€ MetricCards (4ê°œ)
          â”‚   â”œâ”€â”€ Total API Calls
          â”‚   â”œâ”€â”€ Active Users
          â”‚   â”œâ”€â”€ Revenue
          â”‚   â””â”€â”€ Avg Response Time
          â”œâ”€â”€ InteractiveAreaChart
          â”‚   â”œâ”€â”€ ToggleGroup (7d/30d/3m)
          â”‚   â””â”€â”€ AreaChart (recharts)
          â”œâ”€â”€ ApiUsageTable
          â”‚   â”œâ”€â”€ Checkbox (multi-select)
          â”‚   â”œâ”€â”€ Drag & Drop rows
          â”‚   â””â”€â”€ Status Badges
          â”œâ”€â”€ AIModelUsage
          â”‚   â””â”€â”€ Progress Bars (4 models)
          â”œâ”€â”€ RecentActivity
          â”‚   â””â”€â”€ Activity Feed (4 items)
          â””â”€â”€ QuickActions
              â””â”€â”€ Action Buttons (4 items)
```

---

## ğŸ“Š 3. ì£¼ìš” ê¸°ëŠ¥ ëª…ì„¸

### 3.1 ë©”íŠ¸ë¦­ ëŒ€ì‹œë³´ë“œ

**KPI Cards (4ê°œ)**:
```typescript
interface MetricCard {
  title: string          // "Total API Calls"
  value: string          // "2,847,394"
  change: string         // "+12.5%"
  trend: "up" | "down"
  icon: LucideIcon
}
```

**êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ë£Œ
- ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ í‘œì‹œ (Mock ë°ì´í„°)
- íŠ¸ë Œë“œ ì•„ì´ì½˜ ë° ë°±ë¶„ìœ¨ ë³€í™”
- ë°˜ì‘í˜• ê·¸ë¦¬ë“œ (2/4 ì»¬ëŸ¼)

### 3.2 Interactive Area Chart

**ê¸°ëŠ¥**:
- ê¸°ê°„ ì„ íƒ: 7ì¼, 30ì¼, 3ê°œì›”
- ë°ì´í„°: API Calls + Tokens (K)
- ì‹œê°í™”: Stacked Area Chart
- ìƒ‰ìƒ: íŒŒë€ìƒ‰ (API Calls), ì´ˆë¡ìƒ‰ (Tokens)

**ë°ì´í„° ìƒì„± ë¡œì§**:
```typescript
generateMockData(days: number) {
  baseValue: 180,000 + random(0-80,000)
  trendMultiplier: 1 + (i / days) * 0.3  // ìƒìŠ¹ íŠ¸ë Œë“œ
  weekdayMultiplier: ì£¼ë§ 0.7, í‰ì¼ 1.0
}
```

**Hydration ì´ìŠˆ í•´ê²°**:
```typescript
// í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ ë°ì´í„° ìƒì„±
const [mounted, setMounted] = useState(false)
useEffect(() => setMounted(true), [])
```

**êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ë£Œ

### 3.3 API Usage Table

**ì»¬ëŸ¼ êµ¬ì¡°**:
```
[ ] | â‰¡ | Type | Status | Target | Limit | Reviewer
```

**ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥**:
1. **Multi-Select Checkbox**
   - Header: ì „ì²´ ì„ íƒ/í•´ì œ
   - Row: ê°œë³„ ì„ íƒ
   - Indeterminate ìƒíƒœ ì§€ì›

2. **Drag & Drop**
   - Row ìˆœì„œ ë³€ê²½
   - ì‹œê°ì  í”¼ë“œë°± (íˆ¬ëª…ë„, í…Œë‘ë¦¬)
   - GripVertical ì•„ì´ì½˜

3. **Status Badges**
   - Active (ì´ˆë¡ìƒ‰)
   - Warning (ë…¸ë€ìƒ‰)
   - Exceeded (ë¹¨ê°„ìƒ‰)

**ë°ì´í„° ëª¨ë¸**:
```typescript
interface UsageData {
  id: string
  type: string              // "GPT-4 Turbo"
  status: UsageStatus
  target: string            // "850K/1M"
  limit: string             // "1,000,000"
  reviewer: string
}
```

**êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ë£Œ

### 3.4 ë‹¤í¬ëª¨ë“œ ì‹œìŠ¤í…œ

**êµ¬í˜„ ë°©ì‹**:
- Library: `next-themes`
- CSS: Tailwind v4 custom variant
- Default: Dark mode
- Toggle: Header ìš°ì¸¡ ìƒë‹¨

**ìƒ‰ìƒ ì‹œìŠ¤í…œ**:
```css
/* Light Mode */
--background: oklch(1 0 0)
--foreground: oklch(0.145 0 0)

/* Dark Mode */
--background: oklch(0.145 0 0)
--foreground: oklch(0.985 0 0)
```

**êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ë£Œ

### 3.5 Sidebar Navigation

**ë©”ë‰´ í•­ëª© (9ê°œ)**:
1. Dashboard
2. AI Models
3. Prompts
4. Analytics
5. API Usage
6. Documents
7. Team
8. Billing
9. Settings

**ê¸°ëŠ¥**:
- Collapsible sidebar
- Active state í‘œì‹œ
- User profile (footer)
- Brand logo (header)

**êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ë£Œ

---

## ğŸ”§ 4. ê¸°ìˆ ì  ìš”êµ¬ì‚¬í•­

### 4.1 ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­

| í•­ëª© | ëª©í‘œ | í˜„ì¬ ìƒíƒœ |
|------|------|-----------|
| í˜ì´ì§€ ë¡œë”© ì‹œê°„ | < 2ì´ˆ | âœ… ~1.5ì´ˆ |
| Hydration ì—ëŸ¬ | 0ê±´ | âœ… í•´ê²°ë¨ |
| TypeScript ì—ëŸ¬ | 0ê±´ | âš ï¸ 2ê±´ (ToggleGroup) |
| Build ì„±ê³µë¥  | 100% | âœ… 100% |

### 4.2 ë¸Œë¼ìš°ì € ì§€ì›

- Chrome/Edge ìµœì‹  2ë²„ì „
- Firefox ìµœì‹  2ë²„ì „
- Safari ìµœì‹  2ë²„ì „
- ëª¨ë°”ì¼ ë¸Œë¼ìš°ì € (iOS Safari, Android Chrome)

### 4.3 ë°˜ì‘í˜• Breakpoints

```css
sm: 640px   /* Mobile */
md: 768px   /* Tablet */
lg: 1024px  /* Desktop */
xl: 1280px  /* Large Desktop */
2xl: 1536px /* Extra Large */
```

---

## ğŸ“ˆ 5. ë°ì´í„° ëª¨ë¸

### 5.1 Mock Data Schemas

#### MetricData
```typescript
interface MetricData {
  totalApiCalls: number      // 2,847,394
  activeUsers: number        // 12,847
  revenue: number            // 89432
  avgResponseTime: number    // 234 (ms)
  trends: {
    apiCalls: number         // +12.5%
    users: number            // +8.2%
    revenue: number          // +18.7%
    responseTime: number     // -12.3%
  }
}
```

#### ChartData
```typescript
interface ChartDataPoint {
  date: string               // "Jan 15"
  apiCalls: number           // 245000
  tokens: number             // 85000 (K)
}

type ChartData = ChartDataPoint[]
```

#### TableData
```typescript
interface ApiUsageRow {
  id: string
  type: string               // "GPT-4 Turbo"
  status: "active" | "warning" | "exceeded"
  target: string             // "850K/1M"
  limit: string              // "1,000,000"
  reviewer: string           // "John Smith"
}
```

---

## ğŸ¨ 6. UI/UX ì„¤ê³„ ì›ì¹™

### 6.1 ë””ìì¸ ì‹œìŠ¤í…œ

**ì»¬ëŸ¬ íŒ”ë ˆíŠ¸**:
- Primary: `hsl(217, 91%, 60%)` - íŒŒë€ìƒ‰
- Success: `hsl(142, 76%, 56%)` - ì´ˆë¡ìƒ‰
- Warning: `hsl(45, 100%, 51%)` - ë…¸ë€ìƒ‰
- Danger: `hsl(0, 84%, 60%)` - ë¹¨ê°„ìƒ‰

**íƒ€ì´í¬ê·¸ë˜í”¼**:
- Font Family: Geist Sans, Inter
- Heading: 600-700 weight
- Body: 400-500 weight
- Mono: Geist Mono (ìˆ«ì)

**ê°„ê²© ì‹œìŠ¤í…œ**:
- ê¸°ë³¸ ë‹¨ìœ„: 4px (0.25rem)
- ì¹´ë“œ ê°„ê²©: 16px (gap-4)
- íŒ¨ë”©: 16-24px (p-4, p-6)

### 6.2 ì ‘ê·¼ì„± (Accessibility)

- âœ… ARIA labels (ì²´í¬ë°•ìŠ¤, ë²„íŠ¼)
- âœ… í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
- âœ… ìƒ‰ìƒ ëŒ€ë¹„ (WCAG AA)
- âœ… Screen reader ì§€ì›

---

## ğŸš€ 7. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: ê¸°ë³¸ êµ¬ì¡° (ì™„ë£Œ)
- [x] Next.js í”„ë¡œì íŠ¸ ì„¤ì •
- [x] shadcn/ui ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜
- [x] ë‹¤í¬ëª¨ë“œ êµ¬í˜„
- [x] Sidebar ë ˆì´ì•„ì›ƒ

### Phase 2: ëŒ€ì‹œë³´ë“œ ë©”ì¸ (ì™„ë£Œ)
- [x] ë©”íŠ¸ë¦­ ì¹´ë“œ 4ê°œ
- [x] AI ëª¨ë¸ ì‚¬ìš©ëŸ‰ ì°¨íŠ¸
- [x] ìµœê·¼ í™œë™ í”¼ë“œ
- [x] ë¹ ë¥¸ ì‘ì—… ë²„íŠ¼

### Phase 3: ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ (ì™„ë£Œ)
- [x] recharts ì„¤ì¹˜
- [x] Area Chart êµ¬í˜„
- [x] ToggleGroup (ê¸°ê°„ ì„ íƒ)
- [x] Mock ë°ì´í„° ìƒì„±
- [x] Hydration ì´ìŠˆ í•´ê²°

### Phase 4: ë°ì´í„° í…Œì´ë¸” (ì™„ë£Œ)
- [x] Table ì»´í¬ë„ŒíŠ¸
- [x] Checkbox (multi-select)
- [x] Drag & Drop
- [x] Status Badges
- [x] Header ìŠ¤íƒ€ì¼ë§

### Phase 5: ìµœì í™” & ë²„ê·¸ ìˆ˜ì • (ì§„í–‰ ì¤‘)
- [x] Hydration ì—ëŸ¬ ìˆ˜ì •
- [x] TypeScript íƒ€ì… ì•ˆì •ì„±
- [ ] ToggleGroup íƒ€ì… ì—ëŸ¬ ìˆ˜ì •
- [ ] ì„±ëŠ¥ ìµœì í™”

---

## ğŸ› 8. ì•Œë ¤ì§„ ì´ìŠˆ

### 8.1 í•´ê²°ëœ ì´ìŠˆ

| ì´ìŠˆ | ì„¤ëª… | í•´ê²° ë°©ë²• |
|------|------|-----------|
| Hydration Mismatch | Math.random() ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ë¶ˆì¼ì¹˜ | useEffectë¡œ í´ë¼ì´ì–¸íŠ¸ ì „ìš© ë Œë”ë§ |
| asChild prop error | SidebarMenuButtonì—ì„œ React ê²½ê³  | render prop ì‚¬ìš© |
| use-mobile hook ëˆ„ë½ | Sidebarì—ì„œ ëª¨ë“ˆ ì°¾ì„ ìˆ˜ ì—†ìŒ | hooks/use-mobile.tsx ìƒì„± |
| Dark mode variant | Tailwind v4 ë¬¸ë²• ì˜¤ë¥˜ | `@variant dark (.dark &)` |

### 8.2 ë¯¸í•´ê²° ì´ìŠˆ

| ì´ìŠˆ | ìš°ì„ ìˆœìœ„ | ìƒíƒœ |
|------|---------|------|
| ToggleGroup íƒ€ì… ì—ëŸ¬ | Low | ê¸°ëŠ¥ ì •ìƒ ì‘ë™, íƒ€ì…ë§Œ ë¶ˆì¼ì¹˜ |
| Mock ë°ì´í„° í•˜ë“œì½”ë”© | Medium | ì¶”í›„ API ì—°ë™ ì‹œ ìˆ˜ì • ì˜ˆì • |

---

## ğŸ“¦ 9. ì˜ì¡´ì„± ëª©ë¡

### 9.1 í”„ë¡œë•ì…˜ ì˜ì¡´ì„±

```json
{
  "@base-ui/react": "^1.1.0",
  "class-variance-authority": "^0.7.1",
  "clsx": "^2.1.1",
  "lucide-react": "^0.563.0",
  "next": "16.1.6",
  "next-themes": "^0.4.6",
  "react": "19.2.3",
  "react-dom": "19.2.3",
  "recharts": "^2.15.4",
  "tailwind-merge": "^3.4.0",
  "tw-animate-css": "^1.4.0"
}
```

### 9.2 ê°œë°œ ì˜ì¡´ì„±

```json
{
  "@tailwindcss/postcss": "^4",
  "@types/node": "^20",
  "@types/react": "^19",
  "@types/react-dom": "^19",
  "eslint": "^9",
  "eslint-config-next": "16.1.6",
  "shadcn": "^3.8.1",
  "tailwindcss": "^4",
  "typescript": "^5"
}
```

---

## ğŸ”„ 10. ë‹¤ìŒ ë‹¨ê³„ (Act Phase)

### 10.1 ë‹¨ê¸° ê³„íš (1-2ì£¼)

**ìš°ì„ ìˆœìœ„ 1: ë°ì´í„° ì—°ë™**
- [ ] ì‹¤ì œ API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„
- [ ] ë°ì´í„° Fetching (React Query/SWR)
- [ ] ìƒíƒœ ê´€ë¦¬ (Zustand/Context)
- [ ] ì—ëŸ¬ ì²˜ë¦¬

**ìš°ì„ ìˆœìœ„ 2: ì¶”ê°€ í˜ì´ì§€**
- [ ] AI Models ìƒì„¸ í˜ì´ì§€
- [ ] Analytics í˜ì´ì§€
- [ ] API Usage ë¡œê·¸ í˜ì´ì§€
- [ ] Settings í˜ì´ì§€

**ìš°ì„ ìˆœìœ„ 3: UX ê°œì„ **
- [ ] ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
- [ ] Toast ì•Œë¦¼
- [ ] ì—ëŸ¬ ë°”ìš´ë”ë¦¬
- [ ] ê²€ìƒ‰/í•„í„° ê¸°ëŠ¥

### 10.2 ì¤‘ê¸° ê³„íš (1-2ê°œì›”)

- [ ] ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ
- [ ] ê¶Œí•œ ê´€ë¦¬ (RBAC)
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)
- [ ] ë°ì´í„° ë‚´ë³´ë‚´ê¸° (CSV, PDF)

### 10.3 ì¥ê¸° ê³„íš (3-6ê°œì›”)

- [ ] ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ ëŒ€ì‹œë³´ë“œ
- [ ] ë‹¤êµ­ì–´ ì§€ì› (i18n)
- [ ] ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥
- [ ] AI ì¸ì‚¬ì´íŠ¸ ìë™ ìƒì„±

---

## ğŸ“š 11. ì°¸ê³  ìë£Œ

### 11.1 ê³µì‹ ë¬¸ì„œ

- [Next.js 16 Documentation](https://nextjs.org/docs)
- [shadcn/ui Components](https://ui.shadcn.com)
- [Recharts Documentation](https://recharts.org)
- [Tailwind CSS v4](https://tailwindcss.com/docs)

### 11.2 ê´€ë ¨ íŒŒì¼

- `docs/04-report/2025-02-01-ai-saas-dashboard-v1.md` - ì´ì „ ë³´ê³ ì„œ
- `app/dashboard/page.tsx` - ë©”ì¸ ëŒ€ì‹œë³´ë“œ
- `components/dashboard/interactive-area-chart.tsx` - ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸
- `components/dashboard/api-usage-table.tsx` - í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸

---

## âœ… 12. ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 12.1 ê¸°ëŠ¥ ê²€ì¦
- [x] ëª¨ë“  ë©”íŠ¸ë¦­ ì¹´ë“œ ì •ìƒ í‘œì‹œ
- [x] ì°¨íŠ¸ ê¸°ê°„ ì „í™˜ (7ì¼/30ì¼/3ê°œì›”)
- [x] í…Œì´ë¸” ì²´í¬ë°•ìŠ¤ (ì „ì²´/ê°œë³„ ì„ íƒ)
- [x] í…Œì´ë¸” Drag & Drop
- [x] ë‹¤í¬ëª¨ë“œ í† ê¸€
- [x] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (ëª¨ë°”ì¼/ë°ìŠ¤í¬í†±)
- [x] Sidebar ë„¤ë¹„ê²Œì´ì…˜

### 12.2 ì½”ë“œ í’ˆì§ˆ
- [x] TypeScript ì»´íŒŒì¼ ì„±ê³µ
- [x] ESLint ê·œì¹™ ì¤€ìˆ˜
- [x] ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±
- [x] í´ë” êµ¬ì¡° ì²´ê³„ì„±
- [x] ë„¤ì´ë° ì»¨ë²¤ì…˜ ì¼ê´€ì„±

### 12.3 ì„±ëŠ¥
- [x] ë¹Œë“œ ì„±ê³µ
- [x] Hydration ì—ëŸ¬ ì—†ìŒ
- [x] í˜ì´ì§€ ë¡œë”© < 2ì´ˆ
- [x] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì—†ìŒ

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ì‚¬í•­ |
|------|------|-----------|
| 1.0.0 | 2026-02-01 | ì´ˆê¸° ê³„íšì„œ ì‘ì„± (í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„ ê¸°ë°˜) |

---

**ì‘ì„±ì**: Claude Code AI Assistant
**ê²€í† ì**: -
**ìŠ¹ì¸ì**: -
**ë‹¤ìŒ ë‹¨ê³„**: `/pdca design ai-saas-dashboard` - ìƒì„¸ ì„¤ê³„ ë¬¸ì„œ ì‘ì„±
</file>

<file path="docs/01-plan/features/api-usage-table-refactoring.plan.md">
---
template: plan
version: 1.2
feature: api-usage-table-refactoring
date: 2026-02-01
author: Claude Sonnet 4.5
project: shadcn-cluade
version: 0.1.0
status: Draft
---

# API Usage Table Refactoring Planning Document

> **Summary**: Refactor 504-line api-usage-table.tsx into smaller, maintainable components following Single Responsibility Principle
>
> **Project**: shadcn-cluade
> **Version**: 0.1.0
> **Author**: Claude Sonnet 4.5
> **Date**: 2026-02-01
> **Status**: Draft

---

## 1. Overview

### 1.1 Purpose

The current `components/dashboard/api-usage-table.tsx` file has grown to 504 lines, exceeding the recommended 300-line limit and violating the Single Responsibility Principle. This refactoring will:

- **Improve maintainability** by splitting concerns into focused components
- **Enhance readability** by reducing cognitive load per file
- **Enable reusability** by extracting common patterns
- **Facilitate testing** by creating isolated, testable units

### 1.2 Background

**Current Issues** (identified in Code Review):
- File exceeds 504 lines (300-line limit recommended)
- Combines multiple responsibilities:
  - Table rendering and layout
  - Drag-and-drop state management
  - Detail sheet with chart
  - Form fields and selectors
  - Mock data generation
- 5 separate useState hooks managing related state
- Hardcoded mock data (65 lines) at file top
- Chart data generation function called inline in JSX

**Code Review Score Impact**:
- Before P0 fixes: 62/100
- After P0 fixes: 88/100
- **This refactoring targets**: 92-95/100 (addressing P1 warnings)

### 1.3 Related Documents

- Code Review Report: Generated 2026-02-01 (agent ID: a179c7c)
- Original Issue: File length warning #7 from code-analyzer
- Referenced Best Practice: bkit Core Rules - Code Quality Standards

---

## 2. Scope

### 2.1 In Scope

- [x] **Split main component** into 4 sub-components:
  - `UsageTable` - Table UI and row selection logic
  - `UsageDetailSheet` - Detail view sheet with chart
  - `UsageTableRow` - Individual row rendering (optional)
  - Custom hook: `useDragReorder` - Drag-and-drop state management

- [x] **Extract data layer**:
  - Move `initialData` to `lib/data/mock-usage-data.ts`
  - Move `generateDetailChartData()` to `lib/utils/chart-data-generator.ts`

- [x] **Extract utility functions**:
  - `getStatusBadge()` â†’ `lib/utils/status-badge.tsx`
  - `detailChartConfig` â†’ move to chart component or config file

- [x] **Preserve all functionality**:
  - Table rendering with drag-and-drop reordering
  - Row selection (individual + select all)
  - Detail sheet opening on row click
  - Chart display in detail sheet
  - Form fields in detail sheet

- [x] **Maintain performance improvements**:
  - Keep `useMemo` for chart data (P0 fix)

### 2.2 Out of Scope

- Adding new features or functionality
- API integration (still using mock data)
- Changing component behavior or UX
- Adding tests (separate task after refactoring)
- Removing hardcoded trend percentages (P1 warning #19, separate task)

---

## 3. Requirements

### 3.1 Functional Requirements

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| FR-01 | Main component delegates to sub-components without losing functionality | High | Pending |
| FR-02 | Drag-and-drop reordering works identically after split | High | Pending |
| FR-03 | Row selection state managed consistently | High | Pending |
| FR-04 | Detail sheet opens with correct data and chart | High | Pending |
| FR-05 | All imports and exports remain functional | High | Pending |
| FR-06 | File sizes reduced below 300 lines each | Medium | Pending |

### 3.2 Non-Functional Requirements

| Category | Criteria | Measurement Method |
|----------|----------|-------------------|
| Code Quality | File length < 300 lines per file | Line count verification |
| Performance | No performance regression (useMemo preserved) | Manual testing + comparison |
| Type Safety | All TypeScript types preserved and correct | tsc --noEmit |
| Maintainability | Clear separation of concerns | Code review |

---

## 4. Success Criteria

### 4.1 Definition of Done

- [x] `api-usage-table.tsx` reduced to < 150 lines (orchestration only)
- [x] Sub-components created with clear responsibilities
- [x] Data and utilities moved to `/lib` folder
- [x] All existing functionality works identically
- [x] TypeScript compilation succeeds with no errors
- [x] Code review score improves to 92+/100

### 4.2 Quality Criteria

- [x] No file exceeds 300 lines
- [x] Each component has single, clear responsibility
- [x] No code duplication introduced
- [x] Build succeeds without warnings
- [x] Gap analysis shows 95%+ match with design

---

## 5. Risks and Mitigation

| Risk | Impact | Likelihood | Mitigation |
|------|--------|------------|------------|
| Breaking existing functionality during split | High | Medium | Incremental refactoring with verification at each step |
| Import circular dependencies | Medium | Low | Careful import structure planning, use barrel exports |
| State management issues across components | High | Medium | Use custom hook pattern, prop drilling minimized |
| Performance degradation | Medium | Low | Preserve memoization, verify no unnecessary re-renders |
| Type errors after splitting | Low | Medium | Run `tsc --noEmit` after each file creation |

---

## 6. Architecture Considerations

### 6.1 Project Level Selection

| Level | Characteristics | Recommended For | Selected |
|-------|-----------------|-----------------|:--------:|
| **Starter** | Simple structure (`components/`, `lib/`, `types/`) | Static sites, portfolios, landing pages | â˜‘ |
| **Dynamic** | Feature-based modules, services layer | Web apps with backend, SaaS MVPs | â˜ |
| **Enterprise** | Strict layer separation, DI, microservices | High-traffic systems, complex architectures | â˜ |

**Rationale**: Current project uses Starter-level structure (`components/`, `lib/`, `app/`). Refactoring will follow existing pattern.

### 6.2 Key Architectural Decisions

| Decision | Options | Selected | Rationale |
|----------|---------|----------|-----------|
| Component Split Pattern | Feature-based / Layer-based | Layer-based | Matches existing Starter structure |
| State Management | Props / Context / Zustand | Props + Custom Hook | Simple, no external dependency needed |
| File Organization | Flat / Nested | Nested by concern | `/lib/data`, `/lib/utils` separation |
| Import Pattern | Named / Default | Named (shadcn convention) | Consistency with existing codebase |

### 6.3 Folder Structure (After Refactoring)

```
components/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ api-usage-table.tsx              (150 lines - orchestration)
â”‚   â”œâ”€â”€ usage-table.tsx                  (NEW - 120 lines - table UI)
â”‚   â”œâ”€â”€ usage-detail-sheet.tsx           (NEW - 180 lines - detail sheet)
â”‚   â””â”€â”€ hooks/
â”‚       â””â”€â”€ use-drag-reorder.ts          (NEW - 80 lines - DnD logic)
lib/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ mock-usage-data.ts               (NEW - 70 lines - initialData)
â””â”€â”€ utils/
    â”œâ”€â”€ chart-data-generator.ts          (NEW - 30 lines - generateDetailChartData)
    â””â”€â”€ status-badge.tsx                 (NEW - 25 lines - getStatusBadge)
```

**Line Distribution**:
- `api-usage-table.tsx`: 504 â†’ **~150 lines** (70% reduction)
- New components: 4 files totaling ~505 lines
- **Average file size**: ~126 lines (all under 200-line target)

---

## 7. Convention Prerequisites

### 7.1 Existing Project Conventions

- [x] `CLAUDE.md` exists (checked)
- [ ] `docs/01-plan/conventions.md` exists (not yet)
- [ ] ESLint configuration (`.eslintrc.*`) - not found
- [x] Prettier configuration (`.prettierrc`) - using defaults
- [x] TypeScript configuration (`tsconfig.json`)

### 7.2 Conventions to Apply

| Category | Rule | Source |
|----------|------|--------|
| **Naming** | PascalCase components, camelCase functions | Existing codebase |
| **Folder structure** | `/components/dashboard`, `/lib/data`, `/lib/utils` | Starter level convention |
| **Import order** | React â†’ UI libs â†’ local components â†’ utils | shadcn convention |
| **File naming** | kebab-case for files, PascalCase exports | Next.js convention |
| **Hook naming** | `use-{purpose}.ts` in `/hooks` folder | React best practice |

### 7.3 Component Responsibility Map

| Component | Responsibility | Dependencies |
|-----------|----------------|--------------|
| `ApiUsageTable` | Orchestration, layout | Sub-components |
| `UsageTable` | Table rendering, selection UI | UI components |
| `UsageDetailSheet` | Sheet content, chart display | UI, chart components |
| `useDragReorder` | DnD state + handlers | React useState |

---

## 8. Implementation Strategy

### 8.1 Phase 1: Extract Data Layer (Low Risk)

**Files to create**:
1. `lib/data/mock-usage-data.ts` - Export `initialData`, `UsageData` type
2. `lib/utils/chart-data-generator.ts` - Export `generateDetailChartData()`
3. `lib/utils/status-badge.tsx` - Export `getStatusBadge()`

**Verification**: Import in main file, run build

### 8.2 Phase 2: Extract Custom Hook (Medium Risk)

**File to create**:
- `components/dashboard/hooks/use-drag-reorder.ts`

**Exports**:
```typescript
export function useDragReorder<T extends { id: string }>(initialData: T[]) {
  // Returns: { data, draggedItem, dragOverId, handlers }
}
```

**Verification**: Replace useState calls in main file

### 8.3 Phase 3: Extract Detail Sheet (Medium Risk)

**File to create**:
- `components/dashboard/usage-detail-sheet.tsx`

**Props**:
```typescript
interface UsageDetailSheetProps {
  item: UsageData | null
  open: boolean
  onOpenChange: (open: boolean) => void
}
```

**Verification**: Sheet opens correctly with data

### 8.4 Phase 4: Extract Table Component (Low Risk)

**File to create**:
- `components/dashboard/usage-table.tsx`

**Props**:
```typescript
interface UsageTableProps {
  data: UsageData[]
  selectedRows: Set<string>
  onSelectAll: (checked: boolean) => void
  onSelectRow: (id: string, checked: boolean) => void
  onRowClick: (item: UsageData) => void
  dragHandlers: DragHandlers // from useDragReorder
}
```

**Verification**: Table renders and selection works

### 8.5 Phase 5: Cleanup Main File (Final)

- Remove extracted code
- Import sub-components
- Verify build and functionality

---

## 9. Testing Checklist

### 9.1 Functional Tests (Manual)

- [ ] Table displays 8 mock data rows
- [ ] Drag-and-drop reordering works
- [ ] "Select all" checkbox functions correctly
- [ ] Individual row selection works
- [ ] Clicking row Type opens detail sheet
- [ ] Detail sheet displays correct item data
- [ ] Chart renders in detail sheet
- [ ] Chart doesn't flicker on interactions (useMemo working)
- [ ] Sheet close button works
- [ ] Form fields display in sheet

### 9.2 Code Quality Tests

- [ ] `npm run build` succeeds
- [ ] `tsc --noEmit` passes with 0 errors
- [ ] No new ESLint warnings
- [ ] All files < 300 lines
- [ ] No code duplication detected

---

## 10. Rollback Plan

If critical issues occur:

1. **Git rollback**: `git checkout components/dashboard/api-usage-table.tsx` (pre-refactor version)
2. **Delete new files**: Remove created files in `/lib` and sub-components
3. **Restore imports**: Revert changes in parent components

**Backup Strategy**: Create git branch `refactor/api-usage-table` before starting

---

## 11. Next Steps

1. [ ] Create design document (`api-usage-table-refactoring.design.md`)
   - Component interface specifications
   - Props and type definitions
   - File structure diagram

2. [ ] Team review and approval (if applicable)

3. [ ] Start implementation (follow phases 1-5)

4. [ ] Gap analysis after implementation

5. [ ] Generate completion report

---

## Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 0.1 | 2026-02-01 | Initial draft | Claude Sonnet 4.5 |
</file>

<file path="docs/04-report/2025-02-01-ai-saas-dashboard-v1.md">
# AI SaaS Dashboard êµ¬ì¶• ì™„ë£Œ ë³´ê³ ì„œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**í”„ë¡œì íŠ¸ëª…**: AI SaaS Dashboard êµ¬ì¶•
**ì‘ì—… ê¸°ê°„**: 2025-02-01
**ìƒíƒœ**: âœ… ì™„ë£Œ
**ë²„ì „**: v1.0.0

---

## ğŸ¯ Plan (ê³„íš)

### ëª©í‘œ
- shadcn/uië¥¼ ì‚¬ìš©í•œ AI SaaS ëŒ€ì‹œë³´ë“œ êµ¬ì¶•
- ë‹¤í¬ëª¨ë“œ ì§€ì›
- ë°˜ì‘í˜• ë””ìì¸
- ê¹”ë”í•˜ê³  ì§ê´€ì ì¸ UI/UX

### ìš”êµ¬ì‚¬í•­
1. Dashboardë¥¼ ê¸°ë³¸ í˜ì´ì§€ë¡œ ì„¤ì •
2. ë‹¤í¬ëª¨ë“œ ê¸°ë³¸ í™œì„±í™”
3. Sidebar ë„¤ë¹„ê²Œì´ì…˜
4. AI SaaSì— íŠ¹í™”ëœ ë©”íŠ¸ë¦­ ë° ê¸°ëŠ¥

---

## ğŸ¨ Design (ì„¤ê³„)

### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx          # ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ (Sidebar + Header)
â”‚   â””â”€â”€ page.tsx            # ë©”ì¸ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â””â”€â”€ page.tsx                # í™ˆ â†’ Dashboard ë¦¬ë‹¤ì´ë ‰íŠ¸

components/
â”œâ”€â”€ dashboard/
â”‚   â””â”€â”€ app-sidebar.tsx     # AI SaaS ë„¤ë¹„ê²Œì´ì…˜ ì‚¬ì´ë“œë°”
â”œâ”€â”€ theme-provider.tsx      # í…Œë§ˆ ê´€ë¦¬ Provider
â””â”€â”€ theme-toggle.tsx        # ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼

hooks/
â””â”€â”€ use-mobile.tsx          # ëª¨ë°”ì¼ ê°ì§€ Hook
```

### ê¸°ìˆ  ìŠ¤íƒ
- **Framework**: Next.js 16.1.6 (App Router)
- **UI Library**: shadcn/ui (base-vega ìŠ¤íƒ€ì¼)
- **Styling**: Tailwind CSS v4
- **Theme**: next-themes
- **Icons**: lucide-react

---

## âœ… Do (ì‹¤í–‰)

### 1. Dark Mode êµ¬í˜„
- âœ… `next-themes` íŒ¨í‚¤ì§€ ì„¤ì¹˜
- âœ… `ThemeProvider` ì»´í¬ë„ŒíŠ¸ ìƒì„±
- âœ… `layout.tsx`ì— Provider ì¶”ê°€
- âœ… Tailwind v4 dark variant ì„¤ì •: `@variant dark (.dark &)`
- âœ… ê¸°ë³¸ í…Œë§ˆë¥¼ `dark`ë¡œ ì„¤ì •
- âœ… í…Œë§ˆ í† ê¸€ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ìƒì„±

### 2. Dashboard êµ¬ì¡° êµ¬ì¶•
- âœ… shadcn ì»´í¬ë„ŒíŠ¸ ì¶”ê°€:
  - sidebar, avatar, progress, sheet, tooltip
- âœ… Dashboard layout ìƒì„± (app/dashboard/layout.tsx)
  - SidebarProviderë¡œ ê°ì‹¸ê¸°
  - í—¤ë”ì— ì œëª© ë° í…Œë§ˆ í† ê¸€
  - ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
- âœ… AI SaaS Sidebar êµ¬í˜„ (components/dashboard/app-sidebar.tsx)
  - 9ê°œ ë©”ë‰´ í•­ëª©:
    - Dashboard, AI Models, Prompts
    - Analytics, API Usage, Documents
    - Team, Billing, Settings
  - ë¸Œëœë“œ ë¡œê³  ë° ì‚¬ìš©ì í”„ë¡œí•„

### 3. Dashboard ë©”ì¸ í˜ì´ì§€
- âœ… ë©”íŠ¸ë¦­ ì¹´ë“œ 4ê°œ:
  - Total API Calls (2,847,394 | +12.5%)
  - Active Users (12,847 | +8.2%)
  - Revenue ($89,432 | +18.7%)
  - Avg Response Time (234ms | -12.3%)
- âœ… AI ëª¨ë¸ ì‚¬ìš©ëŸ‰ ì°¨íŠ¸:
  - GPT-4 (43.8%)
  - Claude (31.3%)
  - Gemini (16.1%)
  - Others (8.8%)
- âœ… ìµœê·¼ í™œë™ í”¼ë“œ (4ê°œ í•­ëª©)
- âœ… ë¹ ë¥¸ ì‘ì—… ë²„íŠ¼ 4ê°œ

### 4. ë²„ê·¸ ìˆ˜ì •
- âœ… `@/hooks/use-mobile` ëª¨ë“ˆ ëˆ„ë½ ìˆ˜ì •
  - hooks/use-mobile.tsx ìƒì„±
  - ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ê°ì§€ ë¡œì§ êµ¬í˜„
- âœ… `asChild` prop ì—ëŸ¬ ìˆ˜ì •
  - `asChild` â†’ `render` propìœ¼ë¡œ ë³€ê²½
  - Next.js Link ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

### 5. í™ˆí˜ì´ì§€ ì„¤ì •
- âœ… app/page.tsxë¥¼ Dashboardë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- âœ… ê¸°ë³¸ í˜ì´ì§€ = /dashboard

---

## ğŸ” Check (ê²€ì¦)

### ë¹Œë“œ ìƒíƒœ
- âœ… ë¹Œë“œ ì„±ê³µ (ì—ëŸ¬ ì—†ìŒ)
- âœ… TypeScript íƒ€ì… ê²€ì‚¬ í†µê³¼
- âœ… ëŸ°íƒ€ì„ ì—ëŸ¬ ì—†ìŒ

### ê¸°ëŠ¥ ê²€ì¦
| ê¸°ëŠ¥ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ë‹¤í¬ëª¨ë“œ ì „í™˜ | âœ… | í† ê¸€ ë²„íŠ¼ ì •ìƒ ì‘ë™ |
| ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ | âœ… | ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ì§€ì› |
| Sidebar ë„¤ë¹„ê²Œì´ì…˜ | âœ… | 9ê°œ ë©”ë‰´ ì •ìƒ ì‘ë™ |
| ë©”íŠ¸ë¦­ í‘œì‹œ | âœ… | 4ê°œ ì¹´ë“œ ì •ìƒ ë Œë”ë§ |
| ì°¨íŠ¸ í‘œì‹œ | âœ… | Progress bar ì •ìƒ ì‘ë™ |
| ìµœê·¼ í™œë™ í”¼ë“œ | âœ… | 4ê°œ í•­ëª© ì •ìƒ í‘œì‹œ |
| í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸ | âœ… | / â†’ /dashboard ì •ìƒ |

### ì½”ë“œ í’ˆì§ˆ
- âœ… TypeScript íƒ€ì… ì•ˆì •ì„±
- âœ… ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±
- âœ… í´ë” êµ¬ì¡° ì²´ê³„ì 
- âœ… ë„¤ì´ë° ì»¨ë²¤ì…˜ ì¼ê´€ì„±

---

## ğŸš€ Act (ê°œì„  ë° ë‹¤ìŒ ê³„íš)

### ì™„ë£Œëœ ì‘ì—…
- âœ… AI SaaS Dashboard v1.0 êµ¬ì¶• ì™„ë£Œ
- âœ… ë‹¤í¬ëª¨ë“œ ê¸°ë³¸ ì ìš©
- âœ… ëª¨ë“  ë¹Œë“œ ì—ëŸ¬ ìˆ˜ì •

### ë‹¤ìŒ ë‹¨ê³„ ê³„íš

#### Phase 1: ë°ì´í„° ì—°ë™ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)
- [ ] API í†µí•©
  - ì‹¤ì œ ë©”íŠ¸ë¦­ ë°ì´í„° ì—°ë™
  - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ êµ¬í˜„
- [ ] ìƒíƒœ ê´€ë¦¬ ì¶”ê°€
  - Zustand ë˜ëŠ” Context API
  - ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ

#### Phase 2: ìƒì„¸ í˜ì´ì§€ êµ¬í˜„ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)
- [ ] AI Models í˜ì´ì§€
  - ëª¨ë¸ ëª©ë¡ ë° ìƒì„¸ ì •ë³´
  - ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ
- [ ] Analytics í˜ì´ì§€
  - ê³ ê¸‰ ì°¨íŠ¸ (Line, Bar, Pie)
  - ê¸°ê°„ë³„ í†µê³„
- [ ] API Usage í˜ì´ì§€
  - ì‚¬ìš©ëŸ‰ ë¡œê·¸
  - Rate limit ì •ë³´

#### Phase 3: ê¸°ëŠ¥ ì¶”ê°€ (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)
- [ ] Prompts ê´€ë¦¬
  - í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ CRUD
  - ë²„ì „ ê´€ë¦¬
- [ ] Documents ì—…ë¡œë“œ
  - íŒŒì¼ ì—…ë¡œë“œ UI
  - ë¬¸ì„œ ë¯¸ë¦¬ë³´ê¸°
- [ ] Team ê´€ë¦¬
  - íŒ€ì› ì´ˆëŒ€
  - ê¶Œí•œ ê´€ë¦¬

#### Phase 4: UX ê°œì„  (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)
- [ ] ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° Toast ì•Œë¦¼
- [ ] ê²€ìƒ‰ ê¸°ëŠ¥
- [ ] í•„í„° ë° ì •ë ¬

#### Phase 5: ê³ ê¸‰ ê¸°ëŠ¥ (ìš°ì„ ìˆœìœ„: ë‚®ìŒ)
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)
- [ ] ë°ì´í„° ë‚´ë³´ë‚´ê¸° (CSV, PDF)
- [ ] ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ ëŒ€ì‹œë³´ë“œ
- [ ] ë‹¤êµ­ì–´ ì§€ì›

---

## ğŸ“Š ì„±ê³¼ ì§€í‘œ

### ê°œë°œ ìƒì‚°ì„±
- **ì´ ê°œë°œ ì‹œê°„**: ~2ì‹œê°„
- **íŒŒì¼ ìƒì„±**: 8ê°œ
- **ë²„ê·¸ ìˆ˜ì •**: 2ê±´
- **ì½”ë“œ ë¼ì¸**: ~500 LOC

### ê¸°ìˆ  ì„±ê³¼
- âœ… shadcn/ui MCP ì—°ë™ ì„±ê³µ
- âœ… Tailwind v4 í™œìš©
- âœ… Next.js 16 App Router ì ìš©
- âœ… TypeScript íƒ€ì… ì•ˆì •ì„± í™•ë³´

---

## ğŸ’¡ í•™ìŠµ ë° ê°œì„ ì‚¬í•­

### ë°°ìš´ ì 
1. shadcn/uiì˜ sidebar ì»´í¬ë„ŒíŠ¸ í™œìš©ë²•
2. Tailwind v4ì˜ dark mode variant ì„¤ì •
3. Next.js 16ì˜ redirect í•¨ìˆ˜ ì‚¬ìš©ë²•
4. `render` prop vs `asChild` prop ì°¨ì´

### ê°œì„  í•„ìš”ì‚¬í•­
1. **ì‹¤ì œ ë°ì´í„° ì—°ë™**: í˜„ì¬ëŠ” í•˜ë“œì½”ë”©ëœ ë”ë¯¸ ë°ì´í„°
2. **ì—ëŸ¬ ë°”ìš´ë”ë¦¬**: ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” í•„ìš”
3. **í…ŒìŠ¤íŠ¸ ì½”ë“œ**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë° E2E í…ŒìŠ¤íŠ¸ ì¶”ê°€
4. **ì„±ëŠ¥ ìµœì í™”**: ì´ë¯¸ì§€ ìµœì í™”, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

---

## ğŸ¯ ê²°ë¡ 

AI SaaS Dashboard v1.0ì´ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ì¸ UI/UXì™€ ë‹¤í¬ëª¨ë“œê°€ êµ¬í˜„ë˜ì—ˆìœ¼ë©°, í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

ë‹¤ìŒ ë‹¨ê³„ë¡œ ì‹¤ì œ ë°ì´í„° ì—°ë™ ë° ìƒì„¸ í˜ì´ì§€ êµ¬í˜„ì„ ì§„í–‰í•˜ì—¬ ì™„ì „í•œ ê¸°ëŠ¥ì„ ê°–ì¶˜ ëŒ€ì‹œë³´ë“œë¡œ ë°œì „ì‹œí‚¬ ì˜ˆì •ì…ë‹ˆë‹¤.

**ìƒì„±ì¼**: 2025-02-01
**ì‘ì„±ì**: Claude Code AI Assistant
**í”„ë¡œì íŠ¸**: bkit - Starter (shadcn-cluade)
</file>

<file path="docs/.pdca-status.json">
{
  "version": "2.0",
  "lastUpdated": "2026-02-01T01:58:37.404Z",
  "activeFeatures": [],
  "primaryFeature": null,
  "features": {},
  "pipeline": {
    "currentPhase": 1,
    "level": "Dynamic",
    "phaseHistory": []
  },
  "session": {
    "startedAt": "2026-02-01T01:58:37.404Z",
    "onboardingCompleted": false,
    "lastActivity": "2026-02-01T01:58:37.404Z"
  },
  "history": []
}
</file>

<file path="hooks/use-mobile.tsx">
"use client"

import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}
</file>

<file path="lib/utils.ts">
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="public/file.svg">
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
</file>

<file path="public/globe.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
</file>

<file path="public/next.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
</file>

<file path="public/vercel.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
</file>

<file path="public/window.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
</file>

<file path=".gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
</file>

<file path=".mcp.json">
{
  "mcpServers": {
    "shadcn": {
      "command": "npx",
      "args": [
        "shadcn@latest",
        "mcp"
      ]
    }
  }
}
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "base-vega",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "rtl": false,
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "menuColor": "default",
  "menuAccent": "subtle",
  "registries": {}
}
</file>

<file path="eslint.config.mjs">
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
</file>

<file path="next.config.ts">
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;
</file>

<file path="pnpm-workspace.yaml">
ignoredBuiltDependencies:
  - sharp
  - unrs-resolver
</file>

<file path="postcss.config.mjs">
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
</file>

<file path="README.md">
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}
</file>

<file path="app/dashboard/layout.tsx">
import { AppSidebar } from "@/components/dashboard/app-sidebar"
import { SidebarProvider, SidebarInset } from "@/components/ui/sidebar"
import { DashboardHeader } from "@/components/dashboard/dashboard-header"

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <SidebarProvider>
      <AppSidebar />
      <SidebarInset>
        <DashboardHeader />
        <div className="flex flex-1 flex-col gap-4 p-4 pt-0">
          {children}
        </div>
      </SidebarInset>
    </SidebarProvider>
  )
}
</file>

<file path="app/dashboard/page.tsx">
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card"
import { Progress } from "@/components/ui/progress"
import { Badge } from "@/components/ui/badge"
import { Button } from "@/components/ui/button"
import {
  ArrowUpRight,
  Bot,
  Zap,
  Users,
  DollarSign,
  TrendingUp,
  Activity,
  Clock
} from "lucide-react"
import { InteractiveAreaChart } from "@/components/dashboard/interactive-area-chart"
import { ApiUsageTable } from "@/components/dashboard/api-usage-table"

export default function DashboardPage() {
  return (
    <div className="flex flex-1 flex-col gap-4 p-4">
      <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
        <Card>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">Total API Calls</CardTitle>
            <Bot className="h-4 w-4 text-muted-foreground" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">2,847,394</div>
            <p className="text-xs text-muted-foreground">
              <span className="text-green-500 inline-flex items-center">
                <TrendingUp className="h-3 w-3 mr-1" />
                +12.5%
              </span> from last month
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">Active Users</CardTitle>
            <Users className="h-4 w-4 text-muted-foreground" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">12,847</div>
            <p className="text-xs text-muted-foreground">
              <span className="text-green-500 inline-flex items-center">
                <TrendingUp className="h-3 w-3 mr-1" />
                +8.2%
              </span> from last month
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">Revenue</CardTitle>
            <DollarSign className="h-4 w-4 text-muted-foreground" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">$89,432</div>
            <p className="text-xs text-muted-foreground">
              <span className="text-green-500 inline-flex items-center">
                <TrendingUp className="h-3 w-3 mr-1" />
                +18.7%
              </span> from last month
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">Avg Response Time</CardTitle>
            <Activity className="h-4 w-4 text-muted-foreground" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">234ms</div>
            <p className="text-xs text-muted-foreground">
              <span className="text-green-500 inline-flex items-center">
                <TrendingUp className="h-3 w-3 mr-1" />
                -12.3%
              </span> faster than last month
            </p>
          </CardContent>
        </Card>
      </div>

      <InteractiveAreaChart />

      <ApiUsageTable />

      <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-7">
        <Card className="col-span-4">
          <CardHeader>
            <CardTitle>AI Model Usage</CardTitle>
            <CardDescription>
              Monthly API calls by model type
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="space-y-2">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Badge variant="secondary">GPT-4</Badge>
                  <span className="text-sm font-medium">1,247,382 calls</span>
                </div>
                <span className="text-sm text-muted-foreground">43.8%</span>
              </div>
              <Progress value={43.8} className="h-2" />
            </div>

            <div className="space-y-2">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Badge variant="secondary">Claude</Badge>
                  <span className="text-sm font-medium">892,134 calls</span>
                </div>
                <span className="text-sm text-muted-foreground">31.3%</span>
              </div>
              <Progress value={31.3} className="h-2" />
            </div>

            <div className="space-y-2">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Badge variant="secondary">Gemini</Badge>
                  <span className="text-sm font-medium">458,721 calls</span>
                </div>
                <span className="text-sm text-muted-foreground">16.1%</span>
              </div>
              <Progress value={16.1} className="h-2" />
            </div>

            <div className="space-y-2">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Badge variant="secondary">Others</Badge>
                  <span className="text-sm font-medium">249,157 calls</span>
                </div>
                <span className="text-sm text-muted-foreground">8.8%</span>
              </div>
              <Progress value={8.8} className="h-2" />
            </div>
          </CardContent>
        </Card>

        <Card className="col-span-3">
          <CardHeader>
            <CardTitle>Recent Activity</CardTitle>
            <CardDescription>
              Latest API requests and events
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="flex items-start gap-3">
              <div className="rounded-full bg-primary/10 p-2">
                <Zap className="h-4 w-4 text-primary" />
              </div>
              <div className="flex-1 space-y-1">
                <p className="text-sm font-medium">New prompt template created</p>
                <p className="text-xs text-muted-foreground">
                  Content generation template v2.1
                </p>
                <p className="text-xs text-muted-foreground flex items-center gap-1">
                  <Clock className="h-3 w-3" />
                  2 minutes ago
                </p>
              </div>
            </div>

            <div className="flex items-start gap-3">
              <div className="rounded-full bg-primary/10 p-2">
                <Users className="h-4 w-4 text-primary" />
              </div>
              <div className="flex-1 space-y-1">
                <p className="text-sm font-medium">3 new team members joined</p>
                <p className="text-xs text-muted-foreground">
                  Development team expansion
                </p>
                <p className="text-xs text-muted-foreground flex items-center gap-1">
                  <Clock className="h-3 w-3" />
                  1 hour ago
                </p>
              </div>
            </div>

            <div className="flex items-start gap-3">
              <div className="rounded-full bg-primary/10 p-2">
                <Bot className="h-4 w-4 text-primary" />
              </div>
              <div className="flex-1 space-y-1">
                <p className="text-sm font-medium">API usage spike detected</p>
                <p className="text-xs text-muted-foreground">
                  +150% increase in the last hour
                </p>
                <p className="text-xs text-muted-foreground flex items-center gap-1">
                  <Clock className="h-3 w-3" />
                  3 hours ago
                </p>
              </div>
            </div>

            <div className="flex items-start gap-3">
              <div className="rounded-full bg-primary/10 p-2">
                <DollarSign className="h-4 w-4 text-primary" />
              </div>
              <div className="flex-1 space-y-1">
                <p className="text-sm font-medium">Payment received</p>
                <p className="text-xs text-muted-foreground">
                  Enterprise plan - $2,999
                </p>
                <p className="text-xs text-muted-foreground flex items-center gap-1">
                  <Clock className="h-3 w-3" />
                  5 hours ago
                </p>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>

      <Card>
        <CardHeader className="flex flex-row items-center justify-between">
          <div>
            <CardTitle>Quick Actions</CardTitle>
            <CardDescription>Common tasks and operations</CardDescription>
          </div>
        </CardHeader>
        <CardContent className="flex flex-wrap gap-2">
          <Button variant="outline" className="gap-2">
            <Bot className="h-4 w-4" />
            Create New Model
          </Button>
          <Button variant="outline" className="gap-2">
            <Zap className="h-4 w-4" />
            Generate API Key
          </Button>
          <Button variant="outline" className="gap-2">
            <Users className="h-4 w-4" />
            Invite Team Member
          </Button>
          <Button variant="outline" className="gap-2">
            <ArrowUpRight className="h-4 w-4" />
            View Documentation
          </Button>
        </CardContent>
      </Card>
    </div>
  )
}
</file>

<file path="app/globals.css">
@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@variant dark (.dark &);

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.646 0.222 41.116);
  --primary-foreground: oklch(0.98 0.016 73.684);
  --secondary: oklch(0.967 0.001 286.375);
  --secondary-foreground: oklch(0.21 0.006 285.885);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.58 0.22 27);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.837 0.128 66.29);
  --chart-2: oklch(0.705 0.213 47.604);
  --chart-3: oklch(0.646 0.222 41.116);
  --chart-4: oklch(0.553 0.195 38.402);
  --chart-5: oklch(0.47 0.157 37.304);
  --radius: 0.45rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.646 0.222 41.116);
  --sidebar-primary-foreground: oklch(0.98 0.016 73.684);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.705 0.213 47.604);
  --primary-foreground: oklch(0.98 0.016 73.684);
  --secondary: oklch(0.274 0.006 286.033);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.371 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.837 0.128 66.29);
  --chart-2: oklch(0.705 0.213 47.604);
  --chart-3: oklch(0.646 0.222 41.116);
  --chart-4: oklch(0.553 0.195 38.402);
  --chart-5: oklch(0.47 0.157 37.304);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.705 0.213 47.604);
  --sidebar-primary-foreground: oklch(0.98 0.016 73.684);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
</file>

<file path="app/layout.tsx">
import type { Metadata } from "next";
import { Geist, Geist_Mono, Inter } from "next/font/google";
import "./globals.css";
import { ThemeProvider } from "@/components/theme-provider";
import { SessionProvider } from "@/components/providers/session-provider";

const inter = Inter({subsets:['latin'],variable:'--font-sans'});

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" className={inter.variable} suppressHydrationWarning>
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <SessionProvider>
          <ThemeProvider
            attribute="class"
            defaultTheme="dark"
            enableSystem
            disableTransitionOnChange
          >
            {children}
          </ThemeProvider>
        </SessionProvider>
      </body>
    </html>
  );
}
</file>

<file path="components/auth/login-modal.tsx">
"use client"

import * as React from "react"
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import { Separator } from "@/components/ui/separator"
import { signIn } from "next-auth/react"

interface LoginModalProps {
  open: boolean
  onOpenChange: (open: boolean) => void
  onSwitchToSignup: () => void
}

export function LoginModal({ open, onOpenChange, onSwitchToSignup }: LoginModalProps) {
  const [email, setEmail] = React.useState("")
  const [password, setPassword] = React.useState("")
  const [isLoading, setIsLoading] = React.useState(false)

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    // TODO: Implement actual authentication API call
    // Example: await loginUser({ email, password })
    onOpenChange(false)
  }

  const handleGoogleSignIn = async () => {
    try {
      setIsLoading(true)
      await signIn("google", {
        callbackUrl: "/dashboard",
      })
    } catch (error) {
      console.error("Google sign in error:", error)
    } finally {
      setIsLoading(false)
    }
  }

  const handleSwitchToSignup = () => {
    onOpenChange(false)
    onSwitchToSignup()
  }

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="sm:max-w-[425px]">
        <DialogHeader>
          <DialogTitle className="text-2xl font-bold">Welcome back</DialogTitle>
          <DialogDescription>
            Sign in to your account to continue
          </DialogDescription>
        </DialogHeader>

        <form onSubmit={handleSubmit} className="space-y-4 mt-4">
          <div className="space-y-2">
            <Label htmlFor="email">Email</Label>
            <Input
              id="email"
              type="email"
              placeholder="m@example.com"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              required
            />
          </div>

          <div className="space-y-2">
            <div className="flex items-center justify-between">
              <Label htmlFor="password">Password</Label>
              <Button variant="link" className="px-0 font-normal text-sm" type="button">
                Forgot password?
              </Button>
            </div>
            <Input
              id="password"
              type="password"
              placeholder="Enter your password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              required
            />
          </div>

          <Button type="submit" className="w-full">
            Sign in
          </Button>

          <div className="relative">
            <div className="absolute inset-0 flex items-center">
              <Separator />
            </div>
            <div className="relative flex justify-center text-xs uppercase">
              <span className="bg-background px-2 text-muted-foreground">
                Or continue with
              </span>
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4">
            <Button
              variant="outline"
              type="button"
              onClick={handleGoogleSignIn}
              disabled={isLoading}
            >
              <svg className="mr-2 h-4 w-4" viewBox="0 0 24 24">
                <path
                  d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                  fill="#4285F4"
                />
                <path
                  d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                  fill="#34A853"
                />
                <path
                  d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                  fill="#FBBC05"
                />
                <path
                  d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                  fill="#EA4335"
                />
              </svg>
              {isLoading ? "Loading..." : "Google"}
            </Button>
            <Button variant="outline" type="button">
              <svg className="mr-2 h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
              </svg>
              GitHub
            </Button>
          </div>

          <div className="text-center text-sm">
            Don't have an account?{" "}
            <Button
              variant="link"
              className="px-0 font-normal"
              type="button"
              onClick={handleSwitchToSignup}
            >
              Sign up
            </Button>
          </div>
        </form>
      </DialogContent>
    </Dialog>
  )
}
</file>

<file path="components/auth/signup-modal.tsx">
"use client"

import * as React from "react"
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import { Separator } from "@/components/ui/separator"

interface SignupModalProps {
  open: boolean
  onOpenChange: (open: boolean) => void
  onSwitchToLogin: () => void
}

export function SignupModal({ open, onOpenChange, onSwitchToLogin }: SignupModalProps) {
  const [name, setName] = React.useState("")
  const [email, setEmail] = React.useState("")
  const [password, setPassword] = React.useState("")
  const [confirmPassword, setConfirmPassword] = React.useState("")
  const [passwordError, setPasswordError] = React.useState("")

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    setPasswordError("")

    // Validate password match
    if (password !== confirmPassword) {
      setPasswordError("Passwords do not match")
      return
    }

    // TODO: Implement actual authentication API call
    // Example: await signupUser({ name, email, password })
    onOpenChange(false)
  }

  const handleSwitchToLogin = () => {
    onOpenChange(false)
    onSwitchToLogin()
  }

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="sm:max-w-[425px]">
        <DialogHeader>
          <DialogTitle className="text-2xl font-bold">Create an account</DialogTitle>
          <DialogDescription>
            Enter your information to get started
          </DialogDescription>
        </DialogHeader>

        <form onSubmit={handleSubmit} className="space-y-4 mt-4">
          <div className="space-y-2">
            <Label htmlFor="name">Full Name</Label>
            <Input
              id="name"
              type="text"
              placeholder="John Doe"
              value={name}
              onChange={(e) => setName(e.target.value)}
              required
            />
          </div>

          <div className="space-y-2">
            <Label htmlFor="signup-email">Email</Label>
            <Input
              id="signup-email"
              type="email"
              placeholder="m@example.com"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              required
            />
          </div>

          <div className="space-y-2">
            <Label htmlFor="signup-password">Password</Label>
            <Input
              id="signup-password"
              type="password"
              placeholder="Create a password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              required
            />
          </div>

          <div className="space-y-2">
            <Label htmlFor="confirm-password">Confirm Password</Label>
            <Input
              id="confirm-password"
              type="password"
              placeholder="Confirm your password"
              value={confirmPassword}
              onChange={(e) => {
                setConfirmPassword(e.target.value)
                if (passwordError) setPasswordError("")
              }}
              required
            />
            {passwordError && (
              <p className="text-sm font-medium text-destructive">{passwordError}</p>
            )}
          </div>

          <Button type="submit" className="w-full">
            Create account
          </Button>

          <div className="relative">
            <div className="absolute inset-0 flex items-center">
              <Separator />
            </div>
            <div className="relative flex justify-center text-xs uppercase">
              <span className="bg-background px-2 text-muted-foreground">
                Or continue with
              </span>
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4">
            <Button variant="outline" type="button">
              <svg className="mr-2 h-4 w-4" viewBox="0 0 24 24">
                <path
                  d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                  fill="#4285F4"
                />
                <path
                  d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                  fill="#34A853"
                />
                <path
                  d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                  fill="#FBBC05"
                />
                <path
                  d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                  fill="#EA4335"
                />
              </svg>
              Google
            </Button>
            <Button variant="outline" type="button">
              <svg className="mr-2 h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
              </svg>
              GitHub
            </Button>
          </div>

          <div className="text-center text-sm">
            Already have an account?{" "}
            <Button
              variant="link"
              className="px-0 font-normal"
              type="button"
              onClick={handleSwitchToLogin}
            >
              Sign in
            </Button>
          </div>
        </form>
      </DialogContent>
    </Dialog>
  )
}
</file>

<file path="components/dashboard/app-sidebar.tsx">
"use client"

import Link from "next/link"
import {
  Bot,
  LayoutDashboard,
  Sparkles,
  Settings,
  Users,
  CreditCard,
  BarChart3,
  FileText,
  Zap,
  ChevronUp,
  LogOut,
  User2,
  Bell,
} from "lucide-react"

import {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarHeader,
} from "@/components/ui/sidebar"
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
  DropdownMenuGroup,
} from "@/components/ui/dropdown-menu"
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar"

const overviewItems = [
  {
    title: "Dashboard",
    url: "/dashboard",
    icon: LayoutDashboard,
  },
  {
    title: "Analytics",
    url: "/dashboard/analytics",
    icon: BarChart3,
  },
]

const aiToolsItems = [
  {
    title: "AI Models",
    url: "/dashboard/models",
    icon: Bot,
  },
  {
    title: "Prompts",
    url: "/dashboard/prompts",
    icon: Sparkles,
  },
  {
    title: "API Usage",
    url: "/dashboard/usage",
    icon: Zap,
  },
]

const resourcesItems = [
  {
    title: "Documents",
    url: "/dashboard/documents",
    icon: FileText,
  },
  {
    title: "Team",
    url: "/dashboard/team",
    icon: Users,
  },
]

const settingsItems = [
  {
    title: "Billing",
    url: "/dashboard/billing",
    icon: CreditCard,
  },
  {
    title: "Settings",
    url: "/dashboard/settings",
    icon: Settings,
  },
]

export function AppSidebar() {
  return (
    <Sidebar>
      <SidebarHeader>
        <SidebarMenu>
          <SidebarMenuItem>
            <SidebarMenuButton size="lg" render={<Link href="/dashboard" />}>
              <div className="flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                <Bot className="size-4" />
              </div>
              <div className="flex flex-col gap-0.5 leading-none">
                <span className="font-semibold">AI SaaS</span>
                <span className="text-xs">Enterprise</span>
              </div>
            </SidebarMenuButton>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarHeader>
      <SidebarContent>
        {/* Overview Section */}
        <SidebarGroup>
          <SidebarGroupLabel>Overview</SidebarGroupLabel>
          <SidebarGroupContent>
            <SidebarMenu>
              {overviewItems.map((item) => (
                <SidebarMenuItem key={item.title}>
                  <SidebarMenuButton render={<Link href={item.url} />}>
                    <item.icon />
                    <span>{item.title}</span>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>

        {/* AI Tools Section */}
        <SidebarGroup>
          <SidebarGroupLabel>AI Tools</SidebarGroupLabel>
          <SidebarGroupContent>
            <SidebarMenu>
              {aiToolsItems.map((item) => (
                <SidebarMenuItem key={item.title}>
                  <SidebarMenuButton render={<Link href={item.url} />}>
                    <item.icon />
                    <span>{item.title}</span>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>

        {/* Resources Section */}
        <SidebarGroup>
          <SidebarGroupLabel>Resources</SidebarGroupLabel>
          <SidebarGroupContent>
            <SidebarMenu>
              {resourcesItems.map((item) => (
                <SidebarMenuItem key={item.title}>
                  <SidebarMenuButton render={<Link href={item.url} />}>
                    <item.icon />
                    <span>{item.title}</span>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>

        {/* Settings Section */}
        <SidebarGroup>
          <SidebarGroupLabel>Settings</SidebarGroupLabel>
          <SidebarGroupContent>
            <SidebarMenu>
              {settingsItems.map((item) => (
                <SidebarMenuItem key={item.title}>
                  <SidebarMenuButton render={<Link href={item.url} />}>
                    <item.icon />
                    <span>{item.title}</span>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>
      </SidebarContent>
      <SidebarFooter>
        <SidebarMenu>
          <SidebarMenuItem>
            <DropdownMenu>
              <DropdownMenuTrigger render={
                <SidebarMenuButton size="lg">
                  <Avatar className="h-8 w-8 rounded-lg">
                    <AvatarImage src="/avatars/user.png" alt="User" />
                    <AvatarFallback className="rounded-lg">AI</AvatarFallback>
                  </Avatar>
                  <div className="grid flex-1 text-left text-sm leading-tight">
                    <span className="truncate font-semibold">Admin User</span>
                    <span className="truncate text-xs">admin@aisaas.com</span>
                  </div>
                  <ChevronUp className="ml-auto size-4" />
                </SidebarMenuButton>
              } />
              <DropdownMenuContent
                className="w-[--sidebar-width] min-w-56 rounded-lg"
                side="top"
                align="end"
                sideOffset={4}
              >
                <DropdownMenuGroup>
                  <DropdownMenuLabel className="p-0 font-normal">
                    <div className="flex items-center gap-2 px-1 py-1.5 text-left text-sm">
                      <Avatar className="h-8 w-8 rounded-lg">
                        <AvatarImage src="/avatars/user.png" alt="User" />
                        <AvatarFallback className="rounded-lg">AI</AvatarFallback>
                      </Avatar>
                      <div className="grid flex-1 text-left text-sm leading-tight">
                        <span className="truncate font-semibold">Admin User</span>
                        <span className="truncate text-xs">admin@aisaas.com</span>
                      </div>
                    </div>
                  </DropdownMenuLabel>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuGroup>
                  <DropdownMenuItem>
                    <User2 className="mr-2 h-4 w-4" />
                    <span>Account</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Bell className="mr-2 h-4 w-4" />
                    <span>Notifications</span>
                  </DropdownMenuItem>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuGroup>
                  <DropdownMenuItem>
                    <LogOut className="mr-2 h-4 w-4" />
                    <span>Log out</span>
                  </DropdownMenuItem>
                </DropdownMenuGroup>
              </DropdownMenuContent>
            </DropdownMenu>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarFooter>
    </Sidebar>
  )
}
</file>

<file path="components/dashboard/interactive-area-chart.tsx">
"use client"

import * as React from "react"
import { Area, AreaChart, CartesianGrid, XAxis, YAxis } from "recharts"

import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card"
import {
  ChartConfig,
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
} from "@/components/ui/chart"
import { ToggleGroup, ToggleGroupItem } from "@/components/ui/toggle-group"

// Mock data generator
const generateMockData = (days: number) => {
  const data = []
  const now = new Date()

  for (let i = days - 1; i >= 0; i--) {
    const date = new Date(now)
    date.setDate(date.getDate() - i)

    // Generate realistic API call patterns with higher values
    const baseValue = 180000 + Math.random() * 80000
    const weekdayMultiplier = date.getDay() === 0 || date.getDay() === 6 ? 0.7 : 1.0
    const trendMultiplier = 1 + (i / days) * 0.3 // Upward trend
    const apiCalls = Math.floor(baseValue * weekdayMultiplier * trendMultiplier)
    const tokens = Math.floor(apiCalls * (250 + Math.random() * 100))

    data.push({
      date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
      apiCalls,
      tokens: Math.floor(tokens / 1000), // Convert to thousands
    })
  }

  return data
}

const chartConfig = {
  apiCalls: {
    label: "API Calls",
    color: "hsl(217, 91%, 60%)", // Bright blue
  },
  tokens: {
    label: "Tokens (K)",
    color: "hsl(142, 76%, 56%)", // Bright green
  },
} satisfies ChartConfig

type TimeRange = "7days" | "30days" | "3months"

export function InteractiveAreaChart() {
  const [timeRange, setTimeRange] = React.useState<TimeRange>("7days")
  const [mounted, setMounted] = React.useState(false)

  // Fix hydration issue: generate data only on client
  React.useEffect(() => {
    setMounted(true)
  }, [])

  const data = React.useMemo(() => {
    if (!mounted) return [] // Return empty array on server

    switch (timeRange) {
      case "7days":
        return generateMockData(7)
      case "30days":
        return generateMockData(30)
      case "3months":
        return generateMockData(90)
      default:
        return generateMockData(7)
    }
  }, [timeRange, mounted])

  const total = React.useMemo(
    () => ({
      apiCalls: data.reduce((acc, curr) => acc + curr.apiCalls, 0),
      tokens: data.reduce((acc, curr) => acc + curr.tokens, 0),
    }),
    [data]
  )

  // Show loading state on server/initial render
  if (!mounted) {
    return (
      <Card>
        <CardHeader className="flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row">
          <div className="flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6">
            <CardTitle>API Usage Analytics</CardTitle>
            <CardDescription>
              Loading chart data...
            </CardDescription>
          </div>
        </CardHeader>
        <CardContent className="px-2 sm:p-6">
          <div className="h-[250px] flex items-center justify-center text-muted-foreground">
            Loading...
          </div>
        </CardContent>
      </Card>
    )
  }

  return (
    <Card>
      <CardHeader className="flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row">
        <div className="flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6">
          <CardTitle>API Usage Analytics</CardTitle>
          <CardDescription>
            Showing total API calls and token usage
          </CardDescription>
        </div>
        <div className="flex">
          <div className="relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l data-[active=true]:bg-muted/50 sm:border-l sm:border-t-0 sm:px-8 sm:py-6">
            <span className="text-xs text-muted-foreground">
              {chartConfig.apiCalls.label}
            </span>
            <span className="text-lg font-bold leading-none sm:text-3xl">
              {total.apiCalls.toLocaleString()}
            </span>
          </div>
          <div className="relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l data-[active=true]:bg-muted/50 sm:border-l sm:border-t-0 sm:px-8 sm:py-6">
            <span className="text-xs text-muted-foreground">
              {chartConfig.tokens.label}
            </span>
            <span className="text-lg font-bold leading-none sm:text-3xl">
              {total.tokens.toLocaleString()}K
            </span>
          </div>
        </div>
      </CardHeader>
      <CardContent className="px-2 sm:p-6">
        <div className="mb-4 flex justify-end">
          <ToggleGroup
            type="single"
            value={timeRange}
            onValueChange={(value) => {
              if (value) setTimeRange(value as TimeRange)
            }}
            className="border border-border rounded-lg p-0.5"
          >
            <ToggleGroupItem
              value="3months"
              aria-label="Last 3 months"
              className="h-7 px-3 text-xs rounded-md border border-transparent data-[state=on]:border-border data-[state=on]:bg-background data-[state=on]:shadow-sm"
            >
              Last 3 months
            </ToggleGroupItem>
            <ToggleGroupItem
              value="30days"
              aria-label="Last 30 days"
              className="h-7 px-3 text-xs rounded-md border border-transparent data-[state=on]:border-border data-[state=on]:bg-background data-[state=on]:shadow-sm"
            >
              Last 30 days
            </ToggleGroupItem>
            <ToggleGroupItem
              value="7days"
              aria-label="Last 7 days"
              className="h-7 px-3 text-xs rounded-md border border-transparent data-[state=on]:border-border data-[state=on]:bg-background data-[state=on]:shadow-sm"
            >
              Last 7 days
            </ToggleGroupItem>
          </ToggleGroup>
        </div>
        <ChartContainer
          config={chartConfig}
          className="aspect-auto h-[250px] w-full"
        >
          <AreaChart
            data={data}
            margin={{
              left: 12,
              right: 12,
            }}
          >
            <CartesianGrid vertical={false} />
            <XAxis
              dataKey="date"
              tickLine={false}
              axisLine={false}
              tickMargin={8}
              minTickGap={32}
              tickFormatter={(value) => value}
            />
            <YAxis
              tickLine={false}
              axisLine={false}
              tickMargin={8}
              tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}
            />
            <ChartTooltip
              cursor={false}
              content={<ChartTooltipContent indicator="dot" />}
            />
            <Area
              dataKey="tokens"
              type="natural"
              fill="var(--color-tokens)"
              fillOpacity={0.4}
              stroke="var(--color-tokens)"
              stackId="a"
            />
            <Area
              dataKey="apiCalls"
              type="natural"
              fill="var(--color-apiCalls)"
              fillOpacity={0.4}
              stroke="var(--color-apiCalls)"
              stackId="a"
            />
          </AreaChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}
</file>

<file path="app/page.tsx">
"use client"

import { useEffect } from "react"
import { useSession } from "next-auth/react"
import { useRouter } from "next/navigation"
import { LoginModal } from "@/components/auth/login-modal"
import { SignupModal } from "@/components/auth/signup-modal"
import * as React from "react"

export default function Page() {
  const { data: session, status } = useSession()
  const router = useRouter()
  const [loginOpen, setLoginOpen] = React.useState(false)
  const [signupOpen, setSignupOpen] = React.useState(false)

  useEffect(() => {
    if (status === "loading") return

    if (session) {
      // ë¡œê·¸ì¸ë˜ì–´ ìˆìœ¼ë©´ ëŒ€ì‹œë³´ë“œë¡œ ì´ë™
      router.push("/dashboard")
    } else {
      // ë¡œê·¸ì¸ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°
      setLoginOpen(true)
    }
  }, [session, status, router])

  const handleSwitchToSignup = () => {
    setLoginOpen(false)
    setTimeout(() => setSignupOpen(true), 150)
  }

  const handleSwitchToLogin = () => {
    setSignupOpen(false)
    setTimeout(() => setLoginOpen(true), 150)
  }

  // ë¡œë”© ì¤‘ì´ê±°ë‚˜ ì´ë¯¸ ë¡œê·¸ì¸ëœ ê²½ìš° ë¹ˆ í™”ë©´ í‘œì‹œ
  if (status === "loading" || session) {
    return (
      <div className="flex h-screen items-center justify-center">
        <div className="text-center">
          <div className="h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4" />
          <p className="text-muted-foreground">Loading...</p>
        </div>
      </div>
    )
  }

  return (
    <>
      <div className="flex h-screen items-center justify-center bg-gradient-to-br from-background to-muted">
        <div className="text-center space-y-6 p-8">
          <h1 className="text-4xl font-bold tracking-tight">
            Welcome to AI SaaS Dashboard
          </h1>
          <p className="text-xl text-muted-foreground">
            Sign in to get started
          </p>
        </div>
      </div>

      <LoginModal
        open={loginOpen}
        onOpenChange={setLoginOpen}
        onSwitchToSignup={handleSwitchToSignup}
      />
      <SignupModal
        open={signupOpen}
        onOpenChange={setSignupOpen}
        onSwitchToLogin={handleSwitchToLogin}
      />
    </>
  )
}
</file>

<file path="components/dashboard/api-usage-table.tsx">
"use client"

import * as React from "react"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card"
import { Checkbox } from "@/components/ui/checkbox"
import { GripVertical, TrendingUp, TrendingDown } from "lucide-react"
import {
  Sheet,
  SheetContent,
} from "@/components/ui/sheet"
import { Separator } from "@/components/ui/separator"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select"
import { Area, AreaChart, CartesianGrid, XAxis, YAxis } from "recharts"
import {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
} from "@/components/ui/chart"

// Separated imports - Data Layer
import type { UsageData } from "@/lib/types/dashboard"
import { initialUsageData, generateDetailChartData } from "@/lib/mock/usage-data"
import { getStatusBadge } from "@/lib/utils/status-badge"
import { detailChartConfig } from "@/lib/constants/chart-configs"

export function ApiUsageTable() {
  const [data, setData] = React.useState(initialUsageData)
  const [selectedRows, setSelectedRows] = React.useState<Set<string>>(new Set())
  const [draggedItem, setDraggedItem] = React.useState<UsageData | null>(null)
  const [dragOverId, setDragOverId] = React.useState<string | null>(null)
  const [selectedItem, setSelectedItem] = React.useState<UsageData | null>(null)
  const [isSheetOpen, setIsSheetOpen] = React.useState(false)

  // Memoize chart data generation to prevent flickering on every render
  const detailChartData = React.useMemo(() => {
    if (!selectedItem) return []
    return generateDetailChartData()
  }, [selectedItem?.id])

  const handleSelectAll = (checked: boolean) => {
    if (checked) {
      setSelectedRows(new Set(data.map(item => item.id)))
    } else {
      setSelectedRows(new Set())
    }
  }

  const handleSelectRow = (id: string, checked: boolean) => {
    const newSelected = new Set(selectedRows)
    if (checked) {
      newSelected.add(id)
    } else {
      newSelected.delete(id)
    }
    setSelectedRows(newSelected)
  }

  const handleDragStart = (e: React.DragEvent, item: UsageData) => {
    setDraggedItem(item)
    e.dataTransfer.effectAllowed = "move"
    // Add a custom drag image or data
    e.dataTransfer.setData("text/html", item.id)
  }

  const handleDragOver = (e: React.DragEvent, itemId: string) => {
    e.preventDefault()
    e.dataTransfer.dropEffect = "move"
    setDragOverId(itemId)
  }

  const handleDragLeave = () => {
    setDragOverId(null)
  }

  const handleDrop = (e: React.DragEvent, targetItem: UsageData) => {
    e.preventDefault()

    if (!draggedItem || draggedItem.id === targetItem.id) {
      setDragOverId(null)
      return
    }

    const newData = [...data]
    const draggedIndex = newData.findIndex(item => item.id === draggedItem.id)
    const targetIndex = newData.findIndex(item => item.id === targetItem.id)

    // Remove dragged item
    newData.splice(draggedIndex, 1)
    // Insert at target position
    newData.splice(targetIndex, 0, draggedItem)

    setData(newData)
    setDraggedItem(null)
    setDragOverId(null)
  }

  const handleDragEnd = () => {
    setDraggedItem(null)
    setDragOverId(null)
  }

  const allSelected = data.length > 0 && selectedRows.size === data.length
  const someSelected = selectedRows.size > 0 && selectedRows.size < data.length

  return (
    <>
      <Card>
        <CardHeader>
          <CardTitle>API Usage Overview</CardTitle>
          <CardDescription>
            Current usage across all services and models
            {selectedRows.size > 0 && ` (${selectedRows.size} selected)`}
          </CardDescription>
        </CardHeader>
      <CardContent>
        <div className="rounded-md border">
          <Table>
            <TableHeader>
              <TableRow className="bg-muted/50 hover:bg-muted/50">
                <TableHead className="w-[30px]"></TableHead>
                <TableHead className="w-[50px]">
                  <Checkbox
                    checked={allSelected}
                    onCheckedChange={handleSelectAll}
                    aria-label="Select all"
                    className={someSelected ? "data-[state=checked]:bg-primary/50" : ""}
                  />
                </TableHead>
                <TableHead className="w-[200px] text-center">Type</TableHead>
                <TableHead className="text-center">Status</TableHead>
                <TableHead className="text-center">Target</TableHead>
                <TableHead className="text-center">Limit</TableHead>
                <TableHead className="text-center">Reviewer</TableHead>
              </TableRow>
            </TableHeader>
            <TableBody>
              {data.map((item) => (
                <TableRow
                  key={item.id}
                  draggable
                  onDragStart={(e) => handleDragStart(e, item)}
                  onDragOver={(e) => handleDragOver(e, item.id)}
                  onDragLeave={handleDragLeave}
                  onDrop={(e) => handleDrop(e, item)}
                  onDragEnd={handleDragEnd}
                  className={`transition-colors ${
                    selectedRows.has(item.id) ? 'bg-muted/30' : ''
                  } ${draggedItem?.id === item.id ? 'opacity-50' : ''} ${
                    dragOverId === item.id ? 'border-t-2 border-primary' : ''
                  }`}
                >
                  <TableCell className="cursor-grab active:cursor-grabbing">
                    <GripVertical className="h-4 w-4 text-muted-foreground" />
                  </TableCell>
                  <TableCell>
                    <Checkbox
                      checked={selectedRows.has(item.id)}
                      onCheckedChange={(checked) => handleSelectRow(item.id, checked as boolean)}
                      aria-label={`Select ${item.type}`}
                    />
                  </TableCell>
                  <TableCell
                    className="font-medium cursor-pointer hover:text-primary hover:underline"
                    onClick={() => {
                      setSelectedItem(item)
                      setIsSheetOpen(true)
                    }}
                  >
                    {item.type}
                  </TableCell>
                  <TableCell>{getStatusBadge(item.status)}</TableCell>
                  <TableCell className="font-mono text-sm">{item.target}</TableCell>
                  <TableCell className="text-right font-mono text-sm">{item.limit}</TableCell>
                  <TableCell className="text-right">{item.reviewer}</TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </div>
      </CardContent>
    </Card>

    <Sheet open={isSheetOpen} onOpenChange={setIsSheetOpen}>
      <SheetContent side="right" className="w-[400px] sm:w-[540px] overflow-y-auto" showCloseButton={false}>
        {selectedItem && (
          <div className="space-y-6 px-6 py-6">
            {/* Title */}
            <div className="space-y-1">
              <h2 className="text-2xl font-semibold">{selectedItem.type}</h2>
              <p className="text-sm text-muted-foreground">
                Showing total API calls for the last 6 months
              </p>
            </div>

            {/* Chart */}
            <div className="rounded-lg border bg-card p-4">
              <ChartContainer
                config={detailChartConfig}
                className="h-[200px] w-full"
              >
                <AreaChart
                  data={detailChartData}
                  margin={{
                    top: 10,
                    right: 10,
                    left: 0,
                    bottom: 0,
                  }}
                >
                  <CartesianGrid strokeDasharray="3 3" vertical={false} />
                  <XAxis
                    dataKey="date"
                    tickLine={false}
                    axisLine={false}
                    tickMargin={8}
                    tickFormatter={(value) => value}
                    style={{ fontSize: '12px' }}
                  />
                  <YAxis
                    tickLine={false}
                    axisLine={false}
                    tickMargin={8}
                    tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}
                    style={{ fontSize: '12px' }}
                  />
                  <ChartTooltip
                    cursor={false}
                    content={<ChartTooltipContent />}
                  />
                  <Area
                    dataKey="usage"
                    type="natural"
                    fill="var(--color-usage)"
                    fillOpacity={0.4}
                    stroke="var(--color-usage)"
                  />
                </AreaChart>
              </ChartContainer>
            </div>

            {/* Trend Indicator */}
            <div className="flex items-center gap-2">
              <span className="text-sm font-medium">
                Trending {selectedItem.status === "exceeded" ? "down" : "up"} by{" "}
                {selectedItem.status === "exceeded" ? "-2.3" : "5.2"}% this month
              </span>
              {selectedItem.status === "exceeded" ? (
                <TrendingDown className="h-4 w-4" />
              ) : (
                <TrendingUp className="h-4 w-4" />
              )}
            </div>

            {/* Description */}
            <p className="text-sm text-muted-foreground leading-relaxed">
              Showing total API calls for the last 6 months. This API model is currently being
              monitored for usage patterns and performance metrics. The usage statistics help you
              understand consumption patterns and plan capacity accordingly.
            </p>

            <Separator />

            {/* Form Fields */}
            <div className="space-y-4">
              {/* Header */}
              <div className="space-y-2">
                <Label htmlFor="header" className="text-sm font-medium">
                  Header
                </Label>
                <Input
                  id="header"
                  value={selectedItem.type}
                  readOnly
                  className="bg-muted/50"
                />
              </div>

              {/* Type and Status */}
              <div className="grid grid-cols-2 gap-4">
                <div className="space-y-2">
                  <Label htmlFor="type" className="text-sm font-medium">
                    Type
                  </Label>
                  <Select defaultValue={selectedItem.type}>
                    <SelectTrigger id="type">
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value={selectedItem.type}>{selectedItem.type}</SelectItem>
                    </SelectContent>
                  </Select>
                </div>

                <div className="space-y-2">
                  <Label htmlFor="status" className="text-sm font-medium">
                    Status
                  </Label>
                  <Select defaultValue={selectedItem.status}>
                    <SelectTrigger id="status" className="w-full">
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="active">Active</SelectItem>
                      <SelectItem value="warning">Warning</SelectItem>
                      <SelectItem value="exceeded">Exceeded</SelectItem>
                    </SelectContent>
                  </Select>
                </div>
              </div>

              {/* Target and Limit */}
              <div className="grid grid-cols-2 gap-4">
                <div className="space-y-2">
                  <Label htmlFor="target" className="text-sm font-medium">
                    Target
                  </Label>
                  <Input
                    id="target"
                    value={selectedItem.target.split('/')[0]}
                    readOnly
                    className="bg-muted/50"
                  />
                </div>

                <div className="space-y-2">
                  <Label htmlFor="limit" className="text-sm font-medium">
                    Limit
                  </Label>
                  <Input
                    id="limit"
                    value={selectedItem.limit}
                    readOnly
                    className="bg-muted/50"
                  />
                </div>
              </div>

              {/* Reviewer */}
              <div className="space-y-2">
                <Label htmlFor="reviewer" className="text-sm font-medium">
                  Reviewer
                </Label>
                <Select defaultValue={selectedItem.reviewer}>
                  <SelectTrigger id="reviewer" className="w-full">
                    <SelectValue />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value={selectedItem.reviewer}>{selectedItem.reviewer}</SelectItem>
                  </SelectContent>
                </Select>
              </div>
            </div>

            <Separator />

            {/* Action Buttons */}
            <div className="space-y-3">
              <Button className="w-full">
                Submit
              </Button>
              <Button variant="outline" className="w-full">
                Do
              </Button>
            </div>
          </div>
        )}
      </SheetContent>
    </Sheet>
    </>
  )
}
</file>

<file path="docs/.bkit-memory.json">
{
  "project": "shadcn-cluade",
  "currentFeature": "api-usage-table-refactoring",
  "phase": "plan",
  "lastUpdated": "2026-02-01",
  "activeFeatures": [
    {
      "name": "api-usage-table-refactoring",
      "phase": "plan",
      "planDocument": "docs/01-plan/features/api-usage-table-refactoring.plan.md",
      "createdAt": "2026-02-01"
    }
  ],
  "sessionCount": 1,
  "lastSession": {
    "startedAt": "2026-02-06T05:23:46.939Z",
    "platform": "claude",
    "level": "Dynamic"
  }
}
</file>

<file path="package.json">
{
  "name": "shadcn-cluade",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@base-ui/react": "^1.1.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "lucide-react": "^0.563.0",
    "next": "16.1.6",
    "next-auth": "5.0.0-beta.30",
    "next-themes": "^0.4.6",
    "react": "19.2.3",
    "react-dom": "19.2.3",
    "recharts": "^2.15.4",
    "tailwind-merge": "^3.4.0",
    "tw-animate-css": "^1.4.0"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.1.6",
    "shadcn": "^3.8.1",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}
</file>

</files>
